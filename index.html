<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููู ููุจูู - ุฑุญูุฉ ุฑูุญูุฉ ูุน ูุญููุง</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 30%, #312e81 60%, #581c87 100%);
            min-height: 100vh;
        }

        .amiri-font {
            font-family: 'Amiri', serif;
        }
        
        .glass-card {
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .wall-section {
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: bottom center;
        }
        
        .wall-built {
            animation: buildWall 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        @keyframes buildWall {
            0% { transform: scaleY(0) rotateX(90deg); opacity: 0; }
            50% { transform: scaleY(0.5) rotateX(45deg); opacity: 0.7; }
            100% { transform: scaleY(1) rotateX(0deg); opacity: 1; }
        }
        
        .gate-built {
            animation: openGate 2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        @keyframes openGate {
            0% { transform: scale(0) rotate(180deg); opacity: 0; }
            30% { transform: scale(0.3) rotate(120deg); opacity: 0.3; }
            60% { transform: scale(0.7) rotate(60deg); opacity: 0.7; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }
        
        .progress-glow {
            box-shadow: 0 0 30px rgba(251, 191, 36, 0.8), inset 0 0 20px rgba(251, 191, 36, 0.3);
        }
        
        .quiz-option {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .quiz-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .quiz-option:hover::before {
            left: 100%;
        }

        .quiz-option:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 25px rgba(0,0,0,0.4);
        }

        .correct-answer {
            background: linear-gradient(135deg, #10b981, #059669) !important;
            animation: correctPulse 0.8s ease-out;
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.6);
        }

        .wrong-answer {
            background: linear-gradient(135deg, #ef4444, #dc2626) !important;
            animation: shake 0.6s ease-out;
        }

        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.08); box-shadow: 0 0 30px rgba(16, 185, 129, 0.8); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); }
            20%, 40%, 60%, 80% { transform: translateX(8px); }
        }

        .celebration {
            animation: celebrate 3s ease-out;
        }

        @keyframes celebrate {
            0% { transform: scale(1) rotate(0deg); }
            15% { transform: scale(1.2) rotate(5deg); }
            30% { transform: scale(1.1) rotate(-3deg); }
            45% { transform: scale(1.15) rotate(2deg); }
            60% { transform: scale(1.05) rotate(-1deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        .floating-animation {
            animation: float 4s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-8px) rotate(1deg); }
            50% { transform: translateY(-12px) rotate(0deg); }
            75% { transform: translateY(-8px) rotate(-1deg); }
        }

        .sparkle {
            animation: sparkle 2s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
            50% { opacity: 1; transform: scale(1) rotate(180deg); }
        }

        .insight-card {
            animation: slideInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideInUp {
            0% { transform: translateY(50px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }

        .verse-highlight {
            background: linear-gradient(120deg, rgba(251, 191, 36, 0.2) 0%, rgba(251, 191, 36, 0.1) 100%);
            border-right: 4px solid #fbbf24;
            animation: highlightPulse 2s ease-in-out infinite;
        }

        @keyframes highlightPulse {
            0%, 100% { box-shadow: 0 0 0 rgba(251, 191, 36, 0.4); }
            50% { box-shadow: 0 0 20px rgba(251, 191, 36, 0.6); }
        }

        .wall-glow {
            filter: drop-shadow(0 0 12px rgba(139, 92, 246, 0.8));
        }

        .orthodox-cross {
            filter: drop-shadow(0 0 15px rgba(251, 191, 36, 1));
            animation: crossGlow 3s ease-in-out infinite;
        }

        @keyframes crossGlow {
            0%, 100% { filter: drop-shadow(0 0 15px rgba(251, 191, 36, 1)); }
            50% { filter: drop-shadow(0 0 25px rgba(251, 191, 36, 1)) drop-shadow(0 0 35px rgba(251, 191, 36, 0.8)); }
        }

        .father-quote {
            position: relative;
            font-style: italic;
        }

        .father-quote::before {
            content: '"';
            font-size: 3rem;
            color: rgba(251, 191, 36, 0.3);
            position: absolute;
            top: -10px;
            right: -5px;
        }

        .father-quote::after {
            content: '"';
            font-size: 3rem;
            color: rgba(251, 191, 36, 0.3);
            position: absolute;
            bottom: -20px;
            left: -5px;
        }

        .progress-ring {
            transform: rotate(-90deg);
        }

        .progress-ring-circle {
            transition: stroke-dashoffset 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Realistic Brick Pattern */
        .brick-pattern {
            position: relative;
            overflow: hidden;
        }

        .brick-row {
            position: absolute;
            width: 100%;
            height: 12px;
            background: linear-gradient(135deg, #8b7355, #6b5b47, #8b7355);
            border-top: 1px solid #a0916b;
            border-bottom: 1px solid #5a4a3a;
            box-shadow: inset 0 1px 2px rgba(255,255,255,0.1), inset 0 -1px 2px rgba(0,0,0,0.2);
        }

        .brick-row:nth-child(even) {
            background: linear-gradient(135deg, #7a6344, #5a4a3a, #7a6344);
        }

        .mortar-line {
            position: absolute;
            background: linear-gradient(to right, #9a8a6a, #b5a585, #9a8a6a);
            box-shadow: inset 0 0 2px rgba(0,0,0,0.3);
        }

        .building-dust {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(139, 115, 85, 0.6);
            border-radius: 50%;
            animation: dustFall 2s ease-out;
        }

        @keyframes dustFall {
            0% { transform: translateY(-20px); opacity: 1; }
            100% { transform: translateY(40px); opacity: 0; }
        }

        .hammer-strike {
            animation: hammerStrike 0.3s ease-out;
        }

        @keyframes hammerStrike {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); filter: brightness(1.3); }
            100% { transform: scale(1); }
        }

        .event-container {
            position: relative;
            margin: 2rem auto;
            max-width: 600px;
            perspective: 1000px;
        }

        .event-card {
            background: linear-gradient(145deg, 
                rgba(139, 69, 19, 0.9) 0%,
                rgba(160, 82, 45, 0.95) 25%,
                rgba(205, 133, 63, 0.9) 50%,
                rgba(222, 184, 135, 0.95) 75%,
                rgba(245, 222, 179, 0.9) 100%);
            border-radius: 25px;
            padding: 2.5rem;
            position: relative;
            overflow: hidden;
            border: 4px solid transparent;
            background-clip: padding-box;
            box-shadow: 
                0 20px 60px rgba(139, 69, 19, 0.4),
                0 8px 25px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2),
                inset 0 -1px 0 rgba(0, 0, 0, 0.1);
            animation: cardFloat 6s ease-in-out infinite;
            transform-style: preserve-3d;
        }

        .event-card::before {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            background: linear-gradient(45deg, 
                #fbbf24, #f59e0b, #d97706, #92400e,
                #fbbf24, #f59e0b, #d97706, #92400e);
            background-size: 400% 400%;
            border-radius: 25px;
            z-index: -1;
            animation: gradientShift 4s ease-in-out infinite;
        }

        .event-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(251, 191, 36, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 60%, rgba(245, 158, 11, 0.05) 0%, transparent 50%);
            border-radius: 21px;
            pointer-events: none;
        }

        .event-header {
            text-align: center;
            position: relative;
            z-index: 10;
        }

        .event-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            display: inline-block;
            animation: iconBounce 3s ease-in-out infinite;
            filter: drop-shadow(0 0 20px rgba(251, 191, 36, 0.8));
        }

        .event-title {
            font-family: 'Amiri', serif;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #8b4513, #a0522d, #cd853f, #deb887);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            line-height: 1.2;
            position: relative;
        }

        .event-title::before {
            content: 'โจ';
            position: absolute;
            top: -10px;
            right: -20px;
            font-size: 1.5rem;
            animation: sparkleFloat 2s ease-in-out infinite;
        }

        .event-title::after {
            content: '๐';
            position: absolute;
            bottom: -10px;
            left: -20px;
            font-size: 1.5rem;
            animation: sparkleFloat 2s ease-in-out infinite reverse;
        }

        .event-date-container {
            background: linear-gradient(135deg, 
                rgba(139, 69, 19, 0.8), 
                rgba(160, 82, 45, 0.9), 
                rgba(205, 133, 63, 0.8));
            border-radius: 20px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            border: 2px solid rgba(251, 191, 36, 0.3);
            position: relative;
            overflow: hidden;
        }

        .event-date-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(251, 191, 36, 0.2), 
                transparent);
            animation: dateShimmer 3s ease-in-out infinite;
        }

        .event-date {
            font-family: 'Amiri', serif;
            font-size: 1.8rem;
            font-weight: bold;
            color: #fbbf24;
            text-align: center;
            position: relative;
            z-index: 10;
            text-shadow: 
                0 0 10px rgba(251, 191, 36, 0.8),
                2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .event-decorations {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 5;
        }

        .decoration {
            position: absolute;
            font-size: 1.5rem;
            opacity: 0.6;
            animation: decorationFloat 4s ease-in-out infinite;
        }

        .decoration:nth-child(1) { top: 15%; left: 10%; animation-delay: 0s; }
        .decoration:nth-child(2) { top: 20%; right: 15%; animation-delay: 1s; }
        .decoration:nth-child(3) { bottom: 25%; left: 15%; animation-delay: 2s; }
        .decoration:nth-child(4) { bottom: 20%; right: 10%; animation-delay: 3s; }
        .decoration:nth-child(5) { top: 50%; left: 5%; animation-delay: 0.5s; }
        .decoration:nth-child(6) { top: 50%; right: 5%; animation-delay: 1.5s; }

        @keyframes cardFloat {
            0%, 100% { 
                transform: translateY(0px) rotateX(0deg) rotateY(0deg); 
                box-shadow: 
                    0 20px 60px rgba(139, 69, 19, 0.4),
                    0 8px 25px rgba(0, 0, 0, 0.3);
            }
            25% { 
                transform: translateY(-8px) rotateX(2deg) rotateY(1deg); 
                box-shadow: 
                    0 25px 70px rgba(139, 69, 19, 0.5),
                    0 12px 30px rgba(0, 0, 0, 0.4);
            }
            50% { 
                transform: translateY(-12px) rotateX(0deg) rotateY(2deg); 
                box-shadow: 
                    0 30px 80px rgba(139, 69, 19, 0.6),
                    0 15px 35px rgba(0, 0, 0, 0.5);
            }
            75% { 
                transform: translateY(-8px) rotateX(-2deg) rotateY(1deg); 
                box-shadow: 
                    0 25px 70px rgba(139, 69, 19, 0.5),
                    0 12px 30px rgba(0, 0, 0, 0.4);
            }
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes iconBounce {
            0%, 100% { transform: translateY(0px) scale(1); }
            25% { transform: translateY(-10px) scale(1.05); }
            50% { transform: translateY(-15px) scale(1.1); }
            75% { transform: translateY(-10px) scale(1.05); }
        }

        @keyframes sparkleFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.7; }
            50% { transform: translateY(-8px) rotate(180deg); opacity: 1; }
        }

        @keyframes dateShimmer {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: -100%; }
        }

        @keyframes decorationFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.4; }
            25% { transform: translateY(-5px) rotate(90deg); opacity: 0.7; }
            50% { transform: translateY(-8px) rotate(180deg); opacity: 0.6; }
            75% { transform: translateY(-5px) rotate(270deg); opacity: 0.7; }
        }




    </style>
</head>
<body class="min-h-screen text-white">


    <div class="container mx-auto px-4 py-6 max-w-6xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <div class="text-7xl mb-6 font-bold text-yellow-300 tracking-wider floating-animation amiri-font" style="text-shadow: 3px 3px 6px rgba(0,0,0,0.7);">
                ููู ููุจูู
            </div>
            <div class="text-center mb-6">
                <div class="text-2xl font-bold text-white mb-2 amiri-font">
                    ููู ุงูุนุฒุงุจ ูุงูุนุงุฒุจุงุช ุงูุณุงุฏุณ
                </div>
                <div class="text-xl text-blue-200 amiri-font">
                    ูขูฆ ุณุจุชูุจุฑ ูขููขูฅ
                </div>
            </div>
            <h1 class="text-3xl font-bold mb-3 text-yellow-300 amiri-font">ุฑุญูุฉ ุฑูุญูุฉ ูุน ูุญููุง ูู ุจูุงุก ุณูุฑ ุฃูุฑุดููู</h1>
            <p class="text-lg text-blue-200 max-w-2xl mx-auto leading-relaxed">
                ููุง ูุนูุด ูุน ุจุนุถ ุฑุญูุฉ ุญููุฉ ูุชุนูู ูููุง ูู ูุญููุง ุฅุฒุงู ูุจูู ูุงุฏุฉ ุฃูููุงุก ูููุถู ูุคูููู ููุซุงุจุฑูู ูู ูู ุญุงุฌุฉ ูู ุญูุงุชูุง
            </p>
        </div>

        <!-- Enhanced Progress Section -->
        <div class="glass-card rounded-2xl p-6 mb-8">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-xl font-bold text-yellow-300">ุฅูู ุงููู ุจูููุงู ูุญุฏ ุฏูููุชู</h3>
                <div class="flex items-center space-x-4 space-x-reverse">
                    <!-- Circular Progress -->
                    <div class="relative w-16 h-16">
                        <svg class="progress-ring w-16 h-16" viewBox="0 0 120 120">
                            <circle class="progress-ring-circle stroke-gray-600" stroke-width="8" fill="transparent" r="52" cx="60" cy="60"/>
                            <circle id="progressCircle" class="progress-ring-circle stroke-yellow-400" stroke-width="8" fill="transparent" r="52" cx="60" cy="60" 
                                    stroke-dasharray="326.73" stroke-dashoffset="326.73"/>
                        </svg>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span id="progressPercentage" class="text-sm font-bold text-yellow-300">0%</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bg-gray-700 rounded-full h-3 mb-3">
                <div id="progressBar" class="bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 h-3 rounded-full progress-glow transition-all duration-1000" style="width: 0%"></div>
            </div>
            <div class="text-center">
                <span id="progressText" class="text-yellow-300 font-semibold text-lg">ุงุณุชุนุฏ ูุจุฏุก ุฑุญูุชู ุงูุฑูุญูุฉ</span>
            </div>
        </div>

        <!-- Name Input Screen (First Screen) -->
        <div id="initialNameScreen" class="glass-card rounded-2xl p-8 mb-8 text-center">
            <div class="text-6xl mb-6 floating-animation">๐</div>
            <h2 class="text-3xl font-bold mb-6 text-yellow-300 amiri-font">ุฅุฒูู! ููุง ุจููุง ูู ุฑุญูุฉ ุญููุฉ</h2>
            <div class="verse-highlight rounded-xl p-6 mb-6">
                <p class="text-xl leading-relaxed mb-3 amiri-font">
                    "ุฅู ุฅูู ุงูุณูุงุก ูุนุทููุง ุงููุฌุงุญุ ููุญู ุนุจูุฏู ูููู ููุจูู"
                </p>
                <p class="text-blue-300 font-semibold">ูุญููุง ูข:ูขู</p>
            </div>
            <p class="text-lg mb-6 text-gray-300 max-w-2xl mx-auto leading-relaxed">
                ุงูุชุจ ุงุณูู ุนุดุงู ููุงุฏูู ุจูู ูู ูู ุฎุทูุฉ ุจุชุจูู ูููุง ุงูุณูุฑ! ๐
            </p>
            <div class="max-w-md mx-auto mb-6">
                <input 
                    type="text" 
                    id="playerName" 
                    placeholder="ุงูุชุจ ุงุณูู ููุง..." 
                    class="w-full p-4 text-xl text-center bg-gradient-to-r from-indigo-900/50 to-blue-900/50 border-2 border-yellow-400/30 rounded-xl text-white placeholder-gray-400 focus:border-yellow-400 focus:outline-none amiri-font"
                    maxlength="20"
                >
            </div>
            <button id="startWithName" class="bg-gradient-to-r from-yellow-500 via-yellow-600 to-yellow-700 hover:from-yellow-600 hover:via-yellow-700 hover:to-yellow-800 px-10 py-4 rounded-xl font-bold text-black text-xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed">
                ููุง ูุจุฏุฃ ุงูุฑุญูุฉ ๐
            </button>
        </div>

        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="glass-card rounded-2xl p-8 mb-8 text-center hidden">
            <div class="text-6xl mb-6 floating-animation">๐๏ธ</div>
            <h2 class="text-3xl font-bold mb-6 text-yellow-300 amiri-font">ุฅุฒูู ูุง <span id="welcomeName" class="text-yellow-400"></span>! ููุง ุจููุง ูุจูู</h2>
            <div class="verse-highlight rounded-xl p-6 mb-6">
                <p class="text-xl leading-relaxed mb-3 amiri-font">
                    "ูููุช ููู: ุฃูุชู ุชุฑูู ุงูุจููุฉ ุงูุชู ูุญู ูููุงุ ููู ุฃู ุฃูุฑุดููู ุฎุฑุจุฉ ูุฃุจูุงุจูุง ูุญุฑููุฉ ุจุงููุงุฑ. ููู ููุจูู ุณูุฑ ุฃูุฑุดููู ููุง ูููู ุจุนุฏ ุนุงุฑุงู"
                </p>
                <p class="text-blue-300 font-semibold">ูุญููุง 2:17</p>
            </div>
            <p class="text-lg mb-8 text-gray-300 max-w-2xl mx-auto leading-relaxed">
                ูู ุงูุฑุญูุฉ ุฏู ููุชุนูู ูุน ุจุนุถ ูู ูุญููุง ุฅุฒุงู ูุจูู ูุด ุจุณ ุงูุญูุทุงู ูุงูุฃุณูุงุฑุ ููู ููุงู ูุจูู ุดุฎุตูุชูุง ูุฅููุงููุง ูููุงุฏุชูุง ูู ุงูุญูุงุฉ ูุงูุดุบู.
            </p>
            <button id="startBuilding" class="bg-gradient-to-r from-yellow-500 via-yellow-600 to-yellow-700 hover:from-yellow-600 hover:via-yellow-700 hover:to-yellow-800 px-10 py-4 rounded-xl font-bold text-black text-xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl">
                ููุง ูุจุฏุฃ ูุจูู ๐
            </button>
        </div>

        <!-- Lesson Display -->
        <div id="lessonSection" class="glass-card rounded-2xl p-8 mb-8 hidden">
            <div class="text-center mb-6">
                <div class="text-4xl mb-4">๐</div>
                <h3 class="text-2xl font-bold text-yellow-300 mb-2">ุงูุฑุฃ ูููุฑ ุดููุฉ</h3>
                <p class="text-gray-300">ุฎุฏ ููุชู ูุงูุฑุฃ ุงูุขูุฉ ุฏู ูููุณ ูููุฑ ูููุง</p>
            </div>
            <div class="verse-highlight rounded-xl p-6 mb-6">
                <p id="currentVerse" class="text-xl leading-relaxed mb-3 amiri-font"></p>
                <p id="currentReference" class="text-blue-300 font-semibold"></p>
            </div>
            <div class="text-center">
                <button id="proceedToQuiz" class="bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 px-8 py-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105">
                    ููุง ูุดูู ุงูุณุคุงู โ
                </button>
            </div>
        </div>

        <!-- Quiz Section -->
        <div id="quizSection" class="glass-card rounded-2xl p-8 mb-8 hidden">
            <div class="text-center mb-6">
                <div class="text-4xl mb-4">๐ค</div>
                <h3 class="text-2xl font-bold text-yellow-300 mb-2">ุดูู ูููุช ุฅูู</h3>
            </div>
            <h4 id="quizQuestion" class="text-xl font-bold mb-6 text-center"></h4>
            <div id="quizOptions" class="space-y-4 mb-6"></div>
            <div id="quizFeedback" class="text-center hidden"></div>
        </div>

        <!-- Insight Section -->
        <div id="insightSection" class="hidden">
            <!-- Tafseer Card -->
            <div class="glass-card rounded-2xl p-8 mb-6 insight-card">
                <div class="flex items-center mb-4">
                    <div class="text-3xl ml-3">๐</div>
                    <h3 class="text-2xl font-bold text-yellow-300">ูุนูู ุงูุขูุฉ</h3>
                </div>
                <div id="tafseerContent" class="text-lg leading-relaxed text-gray-200"></div>
            </div>

            <!-- Contemplation Card -->
            <div class="glass-card rounded-2xl p-8 mb-6 insight-card" style="animation-delay: 0.2s;">
                <div class="flex items-center mb-4">
                    <div class="text-3xl ml-3">๐ค</div>
                    <h3 class="text-2xl font-bold text-yellow-300">ููุฑ ูู ูุฏู</h3>
                </div>
                <div id="contemplationContent" class="text-lg leading-relaxed text-gray-200 mb-4"></div>
                <div class="bg-gradient-to-r from-blue-900/30 to-purple-900/30 rounded-xl p-4 border border-blue-500/20">
                    <div class="flex items-start space-x-3 space-x-reverse">
                        <div class="text-2xl">๐ญ</div>
                        <div>
                            <h4 class="text-yellow-300 font-semibold mb-2">ุชุฃูู ุจุณูุท ูุณุงุนุฏู:</h4>
                            <div id="reflectionGuide" class="text-gray-300 leading-relaxed"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Church Fathers Card -->
            <div class="glass-card rounded-2xl p-8 mb-8 insight-card" style="animation-delay: 0.4s;">
                <div class="flex items-center mb-4">
                    <div class="text-3xl ml-3">โ๏ธ</div>
                    <h3 class="text-2xl font-bold text-yellow-300">ูู ููุงู ุงูุขุจุงุก ุงููุฏูุณูู</h3>
                </div>
                <div class="father-quote text-lg leading-relaxed text-gray-200 p-4">
                    <p id="fatherQuote" class="mb-3"></p>
                    <p id="fatherName" class="text-yellow-400 font-semibold text-right"></p>
                </div>
            </div>

            <div class="text-center">
                <button id="continueBuilding" class="bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 px-8 py-4 rounded-xl font-bold text-xl transition-all duration-300 transform hover:scale-105">
                    ููุง ูููู ุงูุจูุงุก ๐จ
                </button>
            </div>
        </div>

        <!-- Wall Building Area -->
        <div class="glass-card rounded-2xl p-8 mb-8">
            <h2 class="text-3xl font-bold mb-6 text-center text-yellow-300 amiri-font">ุณูุฑ ุฃูุฑุดููู ุงูููุฏุณ</h2>
            <div class="relative h-80 bg-gradient-to-b from-indigo-900 via-blue-900 to-blue-800 rounded-xl overflow-hidden">
                <!-- Enhanced Sky with stars and moon -->
                <div class="absolute inset-0">
                    <div class="sparkle absolute top-6 left-12 w-3 h-3 bg-yellow-300 rounded-full"></div>
                    <div class="sparkle absolute top-12 right-16 w-2 h-2 bg-white rounded-full" style="animation-delay: 0.7s;"></div>
                    <div class="sparkle absolute top-8 left-1/3 w-2 h-2 bg-yellow-200 rounded-full" style="animation-delay: 1.4s;"></div>
                    <div class="sparkle absolute top-16 right-1/4 w-1 h-1 bg-blue-200 rounded-full" style="animation-delay: 2.1s;"></div>
                    <div class="sparkle absolute top-20 left-3/4 w-2 h-2 bg-purple-200 rounded-full" style="animation-delay: 2.8s;"></div>
                    
                    <!-- Moon -->
                    <div class="absolute top-8 right-8 w-12 h-12 bg-yellow-200 rounded-full opacity-80" style="box-shadow: 0 0 20px rgba(254, 240, 138, 0.6);"></div>
                </div>
                
                <!-- Enhanced Ground -->
                <div class="absolute bottom-0 w-full h-20 bg-gradient-to-t from-amber-900 via-amber-800 to-amber-700"></div>
                
                <!-- Wall Sections with realistic brick pattern -->
                <div class="absolute bottom-20 w-full flex justify-center items-end space-x-2">
                    <!-- Wall Section 1 -->
                    <div id="wall1" class="wall-section w-20 wall-glow opacity-30 rounded-t-sm" style="height: 0px;">
                        <div class="w-full h-full relative brick-pattern bg-gradient-to-t from-stone-700 via-stone-600 to-stone-500 border-2 border-stone-400 rounded-t-sm">
                            <!-- Brick rows will be added dynamically -->
                        </div>
                    </div>
                    
                    <!-- Wall Section 2 -->
                    <div id="wall2" class="wall-section w-20 wall-glow opacity-30 rounded-t-sm" style="height: 0px;">
                        <div class="w-full h-full relative brick-pattern bg-gradient-to-t from-stone-700 via-stone-600 to-stone-500 border-2 border-stone-400 rounded-t-sm">
                        </div>
                    </div>
                    
                    <!-- Main Gate Section -->
                    <div id="gate" class="wall-section w-28 bg-gradient-to-t from-amber-800 via-amber-700 to-amber-600 opacity-30 rounded-t-lg" style="height: 0px;">
                        <div class="w-full h-full border-2 border-amber-500 rounded-t-lg relative">
                            <div class="absolute top-3 left-1/2 transform -translate-x-1/2 w-10 h-10 bg-yellow-400 rounded-full opacity-0 transition-all duration-1000" id="gateLight">
                                <div class="absolute inset-1 bg-yellow-300 rounded-full"></div>
                            </div>
                            <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 w-16 h-8 bg-amber-900 rounded-t-full opacity-0 transition-all duration-1000" id="gateArch"></div>
                        </div>
                    </div>
                    
                    <!-- Wall Sections 3-10 -->
                    <div id="wall3" class="wall-section w-20 wall-glow opacity-30 rounded-t-sm" style="height: 0px;">
                        <div class="w-full h-full relative brick-pattern bg-gradient-to-t from-stone-700 via-stone-600 to-stone-500 border-2 border-stone-400 rounded-t-sm">
                        </div>
                    </div>
                    
                    <div id="wall4" class="wall-section w-20 wall-glow opacity-30 rounded-t-sm" style="height: 0px;">
                        <div class="w-full h-full relative brick-pattern bg-gradient-to-t from-stone-700 via-stone-600 to-stone-500 border-2 border-stone-400 rounded-t-sm">
                        </div>
                    </div>

                    <div id="wall5" class="wall-section w-20 wall-glow opacity-30 rounded-t-sm" style="height: 0px;">
                        <div class="w-full h-full relative brick-pattern bg-gradient-to-t from-stone-700 via-stone-600 to-stone-500 border-2 border-stone-400 rounded-t-sm">
                        </div>
                    </div>

                    <div id="wall6" class="wall-section w-20 wall-glow opacity-30 rounded-t-sm" style="height: 0px;">
                        <div class="w-full h-full relative brick-pattern bg-gradient-to-t from-stone-700 via-stone-600 to-stone-500 border-2 border-stone-400 rounded-t-sm">
                        </div>
                    </div>

                    <div id="wall7" class="wall-section w-20 wall-glow opacity-30 rounded-t-sm" style="height: 0px;">
                        <div class="w-full h-full relative brick-pattern bg-gradient-to-t from-stone-700 via-stone-600 to-stone-500 border-2 border-stone-400 rounded-t-sm">
                        </div>
                    </div>

                    <div id="wall8" class="wall-section w-20 wall-glow opacity-30 rounded-t-sm" style="height: 0px;">
                        <div class="w-full h-full relative brick-pattern bg-gradient-to-t from-stone-700 via-stone-600 to-stone-500 border-2 border-stone-400 rounded-t-sm">
                        </div>
                    </div>

                    <div id="wall9" class="wall-section w-20 wall-glow opacity-30 rounded-t-sm" style="height: 0px;">
                        <div class="w-full h-full relative brick-pattern bg-gradient-to-t from-stone-700 via-stone-600 to-stone-500 border-2 border-stone-400 rounded-t-sm">
                        </div>
                    </div>

                    <div id="wall10" class="wall-section w-20 wall-glow opacity-30 rounded-t-sm" style="height: 0px;">
                        <div class="w-full h-full relative brick-pattern bg-gradient-to-t from-stone-700 via-stone-600 to-stone-500 border-2 border-stone-400 rounded-t-sm">
                        </div>
                    </div>
                </div>
                
                <!-- Orthodox Cross (appears when wall is complete) -->
                <div id="orthodoxCross" class="absolute top-12 left-1/2 transform -translate-x-1/2 text-5xl orthodox-cross opacity-0 transition-all duration-2000">
                    โฆ๏ธ
                </div>

                <!-- Completion Message in Wall -->
                <div id="wallCompletionText" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center opacity-0 transition-all duration-2000">
                    <div class="text-2xl font-bold text-yellow-300 mb-2 amiri-font">ุชู ุจูุงุก ุงูุณูุฑ ุจูุนูุฉ ุงููู</div>
                    <div class="text-lg text-blue-200">ูุญููุง 6:15</div>
                </div>

                <!-- Builder Name on Wall -->
                <div id="builderNameOnWall" class="absolute bottom-32 left-1/2 transform -translate-x-1/2 text-center opacity-0 transition-all duration-2000">
                    <div class="bg-gradient-to-r from-yellow-400/90 via-yellow-300/90 to-yellow-400/90 px-6 py-3 rounded-xl border-2 border-yellow-500 shadow-2xl">
                        <div class="text-3xl font-bold text-black mb-2 amiri-font" id="displayBuilderName"></div>
                        <div class="text-lg font-bold text-gray-800 amiri-font">ููู ููุจูู</div>
                        <div class="text-sm font-semibold text-gray-700">ููู ุงูุนุฒุงุจ ูุงูุนุงุฒุจุงุช ุงูุณุงุฏุณ</div>
                        <div class="text-sm font-semibold text-gray-700">ูขูฆ ุณุจุชูุจุฑ ูขููขูฅ</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Name Input Screen -->
        <div id="nameInputScreen" class="glass-card rounded-2xl p-10 text-center hidden">
            <div class="text-6xl mb-6 floating-animation">๐๏ธ</div>
            <h2 class="text-3xl font-bold mb-6 text-yellow-300 amiri-font">ูุจุฑูููู ูุง <span id="completionName" class="text-yellow-400"></span>! ุฎูุตุช ุจูุงุก ุงูุณูุฑ</h2>
            <p class="text-lg mb-6 text-gray-300 max-w-2xl mx-auto leading-relaxed">
                ุฏูููุชู ุงูุชุจ ุงุณูู ุนุดุงู ูุชูุชุจ ุนูู ุงูุณูุฑ ูุฐูุฑู ุฌูููุฉ ูุฑุญูุชู ุงูุฑูุญูุฉ ูุน ูุญููุง
            </p>
            <div class="max-w-md mx-auto mb-6">
                <input 
                    type="text" 
                    id="builderName" 
                    placeholder="ุงูุชุจ ุงุณูู ููุง..." 
                    class="w-full p-4 text-xl text-center bg-gradient-to-r from-indigo-900/50 to-blue-900/50 border-2 border-yellow-400/30 rounded-xl text-white placeholder-gray-400 focus:border-yellow-400 focus:outline-none amiri-font"
                    maxlength="20"
                >
            </div>
            <button id="addNameToWall" class="bg-gradient-to-r from-yellow-500 via-yellow-600 to-yellow-700 hover:from-yellow-600 hover:via-yellow-700 hover:to-yellow-800 px-10 py-4 rounded-xl font-bold text-black text-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">
                ุงูุชุจ ุงุณูู ุนูู ุงูุณูุฑ โ๏ธ
            </button>
        </div>

        <!-- Completion Screen -->
        <div id="completionScreen" class="glass-card rounded-2xl p-10 text-center hidden">
            <div class="text-8xl mb-6 celebration">๐</div>
            <h2 class="text-4xl font-bold mb-6 text-yellow-300 amiri-font">ูุจุฑูููู ูุง <span id="finalCompletionName" class="text-yellow-400"></span>! ุฎูุตูุง ุงูุณูุฑ ููู</h2>
            <div class="verse-highlight rounded-xl p-6 mb-6">
                <p class="text-xl leading-relaxed mb-3 amiri-font">
                    "ูููู ุงูุณูุฑ ูู ุงูุฎุงูุณ ูุงูุนุดุฑูู ูู ุฃููููุ ูู ุงุซููู ูุฎูุณูู ูููุงู"
                </p>
                <p class="text-blue-300 font-semibold">ูุญููุง 6:15</p>
            </div>
            <p class="text-lg mb-8 text-gray-300 max-w-3xl mx-auto leading-relaxed">
                ุฅุญูุง ุงุชุนูููุง ูุน ูุญููุง ุญุงุฌุงุช ูุชูุฑ ูููุฉ ุนู ุงูููุงุฏุฉ ูุงูุฅููุงู ูุงูุตุจุฑ. ุงูุญุงุฌุงุช ุฏู ูุชุณุงุนุฏู ุชุจูู "ุฃุณูุงุฑ" ุงููุฌุงุญ ูุงูุฅููุงู ูู ุญูุงุชู ูุดุบูู. ูุชูุณุงุด ุฃุจุฏุงู: ุจุงูุตูุงุฉ ูุงูุดุบู ูุงูุฅููุงูุ ูููุด ุญุงุฌุฉ ูุณุชุญููุฉ.
            </p>
            <div class="flex justify-center space-x-4 space-x-reverse flex-wrap gap-4">
                <button id="downloadWallPhoto" class="bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 px-8 py-4 rounded-xl font-bold text-xl transition-all duration-300 transform hover:scale-105">
                    ุญูู ุตูุฑุฉ ุงูุณูุฑ ุจุงุณูู ๐ธ
                </button>
                <button id="restartJourney" class="bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 px-8 py-4 rounded-xl font-bold text-xl transition-all duration-300 transform hover:scale-105">
                    ููุง ูุจุฏุฃ ุฑุญูุฉ ุฌุฏูุฏุฉ ๐
                </button>
                <button id="shareWisdom" class="bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 px-8 py-4 rounded-xl font-bold text-xl transition-all duration-300 transform hover:scale-105">
                    ุดุงุฑู ุงูููุงู ุงูุญูู ุฏู ๐ค
                </button>
            </div>
        </div>
    </div>

    <script>
        // Enhanced lessons with content from your notes
        const lessons = [
            {
                verse: "ูููุง ุณูุนุช ูุฐุง ุงูููุงู ุฌูุณุช ูุจููุช ููุญุช ุฃูุงูุงูุ ูุตูุช ูุตููุช ุฃูุงู ุฅูู ุงูุณูุงุก",
                reference: "ูุญููุง 1:4",
                question: "ุฅูู ุงููู ูุฎูููุง ูุดูู ุฅู ูุญููุง ูุงู ุบููุฑ ุนูู ุดุนุจู ุบูุฑุฉ ููุฏุณุฉุ",
                options: [
                    "ุนูุงุทู ูุญุฒูู ูุตูุงูู ูุตูุงุชู ูุฃูุงู ูุชูุฑ",
                    "ุฒุนูู ุงูุดุฏูุฏ ููุฑุงุฑู ุงูุณุฑูุน ุฅูู ููุชูู",
                    "ุทูุจู ุงููุณุงุนุฏุฉ ูู ุงูููู ุนูู ุทูู",
                    "ุณูุฑู ุงููุจุงุดุฑ ูุฃูุฑุดููู"
                ],
                correct: 0,
                tafseer: "ุบูุฑุฉ ูุญููุง ุงูููุฏุณุฉ ุจุงูุช ูู ุฑุฏ ูุนูู ุงูุนููู ูุงูุฑูุญู ููุง ุณูุน ุฃุฎุจุงุฑ ุดุนุจู. ุงูุนูุงุท ููุถุญ ุชุนุงุทูู ุงูุญููููุ ูุงูุตูุงู ููุถุญ ุฌุฏูุชูุ ูุงูุตูุงุฉ ุชูุถุญ ุงุนุชูุงุฏู ุนูู ุฑุจูุง. ุงูุบูุฑุฉ ุงูููุฏุณุฉ ุฏู ูู ุงููู ุจุชุญุฑู ุงููููุจ ููุนูู ูู ุฃุฌู ุฑุจูุง.",
                contemplation: "ูู ุนูุฏู ุบูุฑุฉ ููุฏุณุฉ ุนูู ุฃููุฑ ุฑุจูุง ูุดุนุจูุ ุจุชุชุตุฑู ุฅุฒุงู ููุง ุชุดูู ุธูู ุฃู ุฎุฑุงุจ ุฑูุญู ุญูุงูููุ",
                reflectionGuide: "ุฎุฏ ุฏูููุชูู ูููุฑ ูู ุขุฎุฑ ูุฑุฉ ุดูุช ูููุง ุญุงุฌุฉ ูุญุดุฉ ุจุชุญุตู ุญูุงููู. ูุงู ุฑุฏ ูุนูู ุฅููุ ูู ุญุณูุช ุจุญุฒู ุญูููู ุฒู ูุญููุงุ ููุง ูุฑูุช ุนูููุง ูุฏูุ ุฌุฑุจ ุชูุชูุฑ ูููู ูุงุญุฏ ุจุณ ูุดูู ูุงู ูููู ุชุชุตุฑู ููู ุฅุฒุงู ูู ูุงู ุนูุฏู ููุณ ุบูุฑุฉ ูุญููุง ุงูููุฏุณุฉ.",
                fatherQuote: "ุงูุบูุฑุฉ ุงูููุฏุณุฉ ูู ูุงุฑ ุฅูููุฉ ุชุดุชุนู ูู ูููุจ ุงููุคูููู ูุชุญุฑูู ุงูุนุงูู ูุญู ุงููู",
                fatherName: "ุงููุฏูุณ ููุญูุง ุงูุฐูุจู ุงููู"
            },
            {
                verse: "ูููุช: ุขู ุฃููุง ุงูุฑุจ ุฅูู ุงูุณูุงุกุ ุงูุฅูู ุงูุนุธูู ุงููุฑููุจุ ุงูุญุงูุธ ุงูุนูุฏ ูุงูุฑุญูุฉ ููุญุจูู ูุญุงูุธู ูุตุงูุงู",
                reference: "ูุญููุง 1:5",
                question: "ุฅูู ุงููู ูููุฒ ูุญููุง ูุฑุงุฌู ุตูุงุฉุ",
                options: [
                    "ุจูุจุฏุฃ ุตูุงุชู ุจุชุณุจูุญ ุฑุจูุง ูุฐูุฑ ุตูุงุชู ุงูุนุธููุฉ",
                    "ุจูุฑูุฒ ุจุณ ุนูู ุทูุจุงุชู ุงูุดุฎุตูุฉ",
                    "ุจูุตูู ุตููุงุช ูุตูุฑุฉ ููุฎุชุตุฑุฉ",
                    "ุจูููู ุฑุจูุง ุนูู ุงููุถุน ุงููุญุด"
                ],
                correct: 0,
                tafseer: "ูุญููุง ุฑุงุฌู ุงูุตูุงุฉ ุงูุญูููู ุจูุจุฏุฃ ุจุชูุฌูุฏ ุฑุจูุง ูุฐูุฑ ุตูุงุชู. ุฏู ููุถุญ ููู ุนููู ูุทุจูุนุฉ ุงูุตูุงุฉ - ุฅููุง ูุจุฏุฃ ุจุฑุจูุง ูุนุธูุชูุ ูุด ุจูุดุงูููุง. ุงูุงุนุชุฑุงู ุจุนุธูุฉ ุฑุจูุง ุจูุฎูู ูู ุญุงุฌุฉ ูู ูุตุงุจูุง ุงูุตุญูุญ.",
                contemplation: "ุจุชุจุฏุฃ ุตููุงุชู ุฅุฒุงูุ ุจุงูุชุณุจูุญ ููุง ุจุงูุทูุจุงุชุ ุฅุฒุงู ูููู ุจุฏุงูุฉ ุงูุตูุงุฉ ุจุงูุชุณุจูุญ ุชุบูุฑ ูุธุฑุชู ููุชุญุฏูุงุชุ",
                reflectionGuide: "ููุฑ ูู ุขุฎุฑ ุตูุงุฉ ุตููุชูุง. ุจุฏุฃุช ุจุฅููุ ุฌุฑุจ ุฏูููุชู ุชููู 'ูุง ุฑุจ ุฃูุช ุนุธููุ ุฃูุช ูุงุฏุฑ ุนูู ูู ุดูุกุ ุฃูุช ุจุชุญุจูู' ูุจู ูุง ุชุทูุจ ุฃู ุญุงุฌุฉ. ูุงุญุธ ุฅุฒุงู ุงูููุงู ุฏู ุจูุฎููู ุชุญุณ ุจุฅูู ุฌูู ููุจู. ูู ุจูุฎููู ุฃูุฏูุ ุฃูุชุฑ ุซูุฉุ",
                fatherQuote: "ูู ูุฑูุฏ ุฃู ูุตูู ุจููุฉุ ูููุจุฏุฃ ุจุชูุฌูุฏ ุงููู. ูุฅู ุงูููุจ ุงูุฐู ููุชูุฆ ุจุนุธูุฉ ุงููู ูุง ูุฎุงู ูู ุตุบุฑ ุงููุดุงูู",
                fatherName: "ุงููุฏูุณ ุจุงุณููููุณ ุงููุจูุฑ"
            },
            {
                verse: "ููุงู ููุง ุณูุน ุณูุจูุท ุงูุญูุฑููู ูุทูุจูุง ุงูุนุจุฏ ุงูุนูููู ุฃูู ุฌุงุก ุฅูุณุงู ูุทูุจ ุฎูุฑุงู ูุจูู ุฅุณุฑุงุฆููุ ุณุงุก ุฐูู ุนูุฏููุง ูุณุงุกุฉ ุนุธููุฉ",
                reference: "ูุญููุง 2:10",
                question: "ููู ุชุนุงูู ูุญููุง ูุน ุงูุฃุตูุงุช ุงูุณูุจูุฉ ูุงููุนุงุฑุถุฉุ",
                options: [
                    "ุฎุงู ูุชุฑุงุฌุน ุนู ุฎุทุทู",
                    "ูุงุฌููู ุจุซูุฉ ูู ุงููู ูุฅุตุฑุงุฑ ุนูู ุฅููุงู ุงูุนูู",
                    "ุชุฌุงูููู ุชูุงูุงู ููู ููุชู ุจูู",
                    "ุทูุจ ุงููุณุงุนุฏุฉ ูู ุงูููู ููุญุงุฑุจุชูู"
                ],
                correct: 1,
                tafseer: "ูุญููุง ููุธูุฑ ููุงุฏุฉ ุญูููุฉ ูู ุงูุชุนุงูู ูุน ุงููุนุงุฑุถุฉ. ูู ูุฎู ููู ูุชุฑุงุฌุนุ ุจู ูุงุฌู ุงูุชุญุฏู ุจุซูุฉ ูู ุงููู. ูุฐุง ูุนูููุง ุฃู ูู ุนูู ุนุธูู ุณููุงุฌู ูุนุงุฑุถุฉุ ููู ุงูุซูุฉ ูู ุงููู ุชุนุทููุง ุงูููุฉ ููุงุณุชูุฑุงุฑ.",
                contemplation: "ููู ุชุชุนุงูู ูุน ุงูููุฏ ูุงููุนุงุฑุถุฉ ูู ุญูุงุชูุ ูู ุชุฏุนูุง ุชูููู ุฃู ุชุณุชุฎุฏููุง ูุชูููุฉ ุนุฒููุชูุ",
                reflectionGuide: "ุงูุชูุฑ ุขุฎุฑ ูุฑุฉ ุญุฏ ุงูุชูุฏู ุฃู ุนุงุฑุถ ููุฑุฉ ุนูุฏู. ุฅูู ุงููู ุญุณูุช ุจููุ ูู ุฎูุช ูุณุจุช ุงูููุฑุฉุ ููุง ูููุชุ ุฌุฑุจ ุชููุฑ ูู ุงููููู ุฏู ุชุงูู ูุชุดูู: ูู ุงูููุฏ ุฏู ูุงู ุนุดุงู ุงูููุฑุฉ ูุญุดุฉ ูุนูุงูุ ููุง ุนุดุงู ุงููุงุณ ูุด ุนุงูุฒุฉ ุชุดูู ุชูุฏูุ",
                fatherQuote: "ุงููุนุงุฑุถุฉ ูู ุนูุงูุฉ ุนูู ุฃูู ุชุณูุฑ ูู ุงูุทุฑูู ุงูุตุญูุญ. ูุงูุดูุทุงู ูุง ูุญุงุฑุจ ุฅูุง ุงูุฃุนูุงู ุงูุชู ุชูุฌุฏ ุงููู",
                fatherName: "ุงููุฏูุณ ุฃุบุณุทูููุณ"
            },
            {
                verse: "ูููุช ููู: ุฃูุชู ุชุฑูู ุงูุจููุฉ ุงูุชู ูุญู ูููุงุ ููู ุฃู ุฃูุฑุดููู ุฎุฑุจุฉ ูุฃุจูุงุจูุง ูุญุฑููุฉ ุจุงููุงุฑ. ููู ููุจูู ุณูุฑ ุฃูุฑุดููู ููุง ูููู ุจุนุฏ ุนุงุฑุงู",
                reference: "ูุญููุง 2:17",
                question: "ูุง ุงูุฐู ููุธูุฑ ูุญููุง ููุงุฆุฏ ูุงุฌุญ ูู ุฏุนูุชู ููุนูู ุงููุดุชุฑูุ",
                options: [
                    "ุฃูุฑูู ุจุงูุนูู ุฏูู ุงุณุชุดุงุฑุชูู",
                    "ูุถุญ ููู ุงููุงูุน ูุฏุนุงูู ูููุดุงุฑูุฉ ูู ุงูุญู",
                    "ูุนุฏูู ุจููุงูุขุช ูุงููุฉ ูุจูุฑุฉ",
                    "ูุฏุฏูู ุจุนูุงูุจ ุนุฏู ุงููุดุงุฑูุฉ"
                ],
                correct: 1,
                tafseer: "ูุญููุง ููุธูุฑ ููุงุฏุฉ ุญูููุฉ ุจุฃู ูุดุฑุญ ุงููุงูุน ุฃููุงู ('ุฃูุชู ุชุฑูู ุงูุจููุฉ') ุซู ูุฏุนู ููุนูู ุงููุดุชุฑู ('ููู ููุจูู'). ูุฐุง ุงูููุฌ ูุฌุนู ุงููุงุณ ุดุฑูุงุก ูู ุงูุฑุคูุฉ ูููุณ ูุฌุฑุฏ ูููุฐูู ููุฃูุงูุฑ.",
                contemplation: "ูู ููุงุฏุชู ููุขุฎุฑููุ ูู ุชุดุฑููู ูู ุงูุฑุคูุฉ ุฃู ุชุนุทู ุฃูุงูุฑ ููุทุ ููู ููููู ุชุทููุฑ ููุงุฑุงุช ุงูููุงุฏุฉ ุงูุชุดุงุฑููุฉุ",
                reflectionGuide: "ููุฑ ูู ุขุฎุฑ ูุฑุฉ ูุงู ุนููู ุชููุน ุญุฏ ูุณุงุนุฏู ูู ุญุงุฌุฉ ูููุฉ. ููุช ูู ุฅููุ ูู ุดุฑุญุช ูู ููู ุงููุดุฑูุน ุฏู ูููุ ููุง ุจุณ ุทูุจุช ููู ูุณุงุนุฏูุ ุฌุฑุจ ุชูุชูุฑ ุฅุฒุงู ูุงู ูููู ุชุฎููู ูุญุณ ุฅูู ุดุฑูู ูู ุงููุฌุงุญ ูุด ูุฌุฑุฏ ูุณุงุนุฏ.",
                fatherQuote: "ุงููุงุฆุฏ ุงูุญูููู ูุง ูููุฏ ูู ุงูุฃูุงู ููุทุ ุจู ูุณูุฑ ูุน ุดุนุจู ููุดุฑููู ูู ุงูุฑุคูุฉ ูุงูุนูู",
                fatherName: "ุงููุฏูุณ ููุญูุง ูุงุณูุงู"
            },
            {
                verse: "ููุงู ูู ุฐูู ุงูููู ุฃู ูุตู ุบููุงูู ูุดุชุบู ูู ุงูุนููุ ููุตู ููุณู ุงูุฑูุงุญ ูุงูุฃุชุฑุงุณ ูุงููุณู ูุงูุฏุฑูุน",
                reference: "ูุญููุง 4:16",
                question: "ููู ุฃุธูุฑ ูุญููุง ุญููุฉ ูู ุฅุฏุงุฑุฉ ุงูุชุญุฏูุงุช ูุงูุชูุฏูุฏุงุชุ",
                options: [
                    "ุชููู ุนู ุงูุนูู ุญุชู ุชูุชูู ุงูุชูุฏูุฏุงุช",
                    "ูุธู ุงูุนูู ุจุญูุซ ูุณุชูุฑ ุงูุจูุงุก ูุน ุงูุงุณุชุนุฏุงุฏ ููุฏูุงุน",
                    "ุทูุจ ุญูุงูุฉ ุฅุถุงููุฉ ูู ุงูููู",
                    "ูุฑุฑ ูุญุงุฑุจุฉ ุงูุฃุนุฏุงุก ุฃููุงู ูุจู ุงูุจูุงุก"
                ],
                correct: 1,
                tafseer: "ูุญููุง ููุธูุฑ ุญููุฉ ุฅุฏุงุฑูุฉ ุนุธููุฉ ุจุงูููุงุฒูุฉ ุจูู ูุชุทูุจุงุช ุงูุนูู ูุงูุฃูุงู. ูู ูุชููู ุนู ุงูุจูุงุก ุจุณุจุจ ุงูุชูุฏูุฏุงุชุ ุจู ูุธู ุงูุนูู ููุณุชูุฑ ูุน ุงูุญูุงูุฉ. ูุฐุง ูุนูููุง ุฃู ุงูุญููุฉ ุชุฌูุน ุจูู ุงูุฅููุงู ูุงูุญุฐุฑ.",
                contemplation: "ููู ุชูุงุฒู ุจูู ุงููุฎุงุทุฑุฉ ุงููุญุณูุจุฉ ูุงูุญุฐุฑ ูู ูุฑุงุฑุงุชูุ ูู ุชุฏุน ุงูุฎูู ูููู ุฃุญูุงูู ุฃู ุชุฌุฏ ุทุฑูุงู ุญูููุฉ ูููุชุงุจุนุฉุ",
                reflectionGuide: "ุงูุชูุฑ ูุดุฑูุน ุฃู ูุฏู ููู ูู ุญูุงุชู ุฏูููุชู. ุฅูู ูู ุงููุฎุงุทุฑ ุงููู ุจุชุฎููู ูุชุฑุฏุฏุ ูู ูููู ุชูุงูู ุทุฑููุฉ ุชุญูู ุจููุง ููุณู ูู ุงููุฎุงุทุฑ ุฏู ููู ููุณ ุงูููุช ุชููู ูู ุทุฑูููุ ุฒู ุฅูู ูุซูุงูุ",
                fatherQuote: "ุงูุญููุฉ ูู ุฃู ุชุซู ูู ุงููู ูุชุฃุฎุฐ ุจุงูุฃุณุจุงุจุ ูุงููู ูุจุงุฑู ุงูุนูู ุงููุฏุฑูุณ ูุงูุฅููุงู ุงูุนููู",
                fatherName: "ุงููุฏูุณ ุบุฑูุบูุฑููุณ ุงููุฒููุฒู"
            },
            {
                verse: "ููู ุฃูู ุฃูุง ูุฅุฎูุชู ูุบููุงูู ูุญุฑุงุณ ุงูุฐูู ูุฑุงุฆู ูุฎูุน ุซูุงุจูุง. ูุงู ูู ูุงุญุฏ ูุฐูุจ ุจุณูุงุญู ุฅูู ุงููุงุก",
                reference: "ูุญููุง 4:23",
                question: "ูุง ุงูุฐู ููุธูุฑู ูุฐุง ุงููุต ุนู ููุงุฏุฉ ูุญููุงุ",
                options: [
                    "ูุงู ูุนุทู ุงูุฃูุงูุฑ ูู ููุงู ุขูู",
                    "ูุงู ูุนูู ุจููุณู ููุดุงุฑู ูู ูู ุงูุชุญุฏูุงุช",
                    "ูุงู ูุนุชูุฏ ุนูู ุงูุขุฎุฑูู ูู ุงูุนูู ุงูุตุนุจ",
                    "ูุงู ูุฃุฎุฐ ุฑุงุญุฉ ุจูููุง ุงูุขุฎุฑูู ูุนูููู"
                ],
                correct: 1,
                tafseer: "ูุญููุง ููุธูุฑ ุงูููุงุฏุฉ ุจุงููุฏูุฉ - ูุนูู ุจููุณู ููุดุงุฑู ูู ููุณ ุงูุชุญุฏูุงุช ุงูุชู ููุงุฌููุง ุดุนุจู. ูุฐุง ุงูููุน ูู ุงูููุงุฏุฉ ููุณุจ ุงุญุชุฑุงู ุงููุงุณ ููุญูุฒูู ููุนูู ุจุฌุฏูุฉ ุฃูุจุฑ.",
                contemplation: "ูู ูุณุคูููุงุชู ุงูููุงุฏูุฉุ ูู ุชููุฏ ุจุงููุฏูุฉ ุฃู ุจุงูุฃูุงูุฑ ููุทุ ููู ููููู ุฃู ุชููู ูุซุงูุงู ููุญุชุฐู ุจูุ",
                reflectionGuide: "ูู ุฅูุช ูุณุคูู ุนู ูุฑูู ูู ุงูุดุบู ุฃู ุงูุจูุช ุฃู ุงูุฎุฏูุฉุ ุงุณุฃู ููุณู: ูู ุจุชุทูุจ ูู ุงููุงุณ ุญุงุฌุงุช ุฅูุช ูุด ูุณุชุนุฏ ุชุนูููุงุ ุฌุฑุจ ุชููุฑ ูู ุญุงุฌุฉ ูุงุญุฏุฉ ูููู ุชุจุฏุฃ ุชุนูููุง ุจููุณู ุนุดุงู ุชุจูู ูุฏูุฉ ุฃุญุณู ููู ุญูุงููู.",
                fatherQuote: "ุงููุงุฆุฏ ุงูุฐู ูุง ูุนูู ุจูุฏูู ูุง ูุณุชุญู ุฃู ููุทุงุน ุจูููุงุชู. ุงููุฏูุฉ ุฃููู ูู ุฃูู ุฎุทุจุฉ",
                fatherName: "ุงููุฏูุณ ุฃูุจุฑูุณููุณ"
            },
            {
                verse: "ููุงู ููุง ุณูุน ุฌููุน ุฃุนุฏุงุฆูุง ูุฎุงู ุฌููุน ุงูุฃูู ุงูุฐูู ุญูููุง ูุณูุทูุง ูุซูุฑุงู ูู ุฃุนูู ุฃููุณููุ ุฃููู ุนูููุง ุฃู ูุฐุง ุงูุนูู ุฅููุง ูุงู ูู ุนูุฏ ุฅูููุง",
                reference: "ูุญููุง 6:16",
                question: "ูุง ุงูุฐู ุฌุนู ุงูุฃุนุฏุงุก ูุฏุฑููู ุฃู ุนูู ูุญููุง ูุงู ูู ุนูุฏ ุงูููุ",
                options: [
                    "ุงูููุฉ ุงูุนุณูุฑูุฉ ุงููุจูุฑุฉ ุงูุชู ุงุณุชุฎุฏููุง",
                    "ุงููุงู ุงููุซูุฑ ุงูุฐู ุฃูููู ุนูู ุงููุดุฑูุน",
                    "ูุฌุงุญ ุงูุนูู ุฑุบู ูู ุงููุนุงุฑุถุฉ ูุงูุชุญุฏูุงุช",
                    "ุงูุชุฏุฎู ุงููุจุงุดุฑ ููููู ููุณุงุนุฏุชู"
                ],
                correct: 2,
                tafseer: "ุนูุฏูุง ููุฌุญ ุนูู ุฑุบู ูู ุงููุนุงุฑุถุฉ ูุงูุตุนูุจุงุชุ ูุตุจุญ ูุงุถุญุงู ุฃู ูุฏ ุงููู ููู. ูุฌุงุญ ูุญููุง ูู ููู ุจููุชู ุงูุฐุงุชูุฉุ ุจู ุจุจุฑูุฉ ุงููู ุงูุชู ุฑุงููุช ุฅููุงูู ูุฌูุฏู.",
                contemplation: "ูู ูุฑู ุงููุงุณ ูู ุฃุนูุงูู ูุฅูุฌุงุฒุงุชู ุจุฑูุฉ ุงูููุ ููู ูููู ุฃู ุชุฌุนู ุญูุงุชู ุดูุงุฏุฉ ูุนูู ุงููู ูููุ",
                reflectionGuide: "ููุฑ ูู ุฅูุฌุงุฒ ุญููุชู ูู ุญูุงุชู ูููุช ูุฎูุฑ ุจูู. ูู ุงููุงุณ ุงููู ุญูุงููู ุดุงููุง ููู ุจุฑูุฉ ุฑุจูุงุ ููุง ุดุงููุง ุจุณ ุดุทุงุฑุชู ุฅูุชุ ุฅุฒุงู ูููู ูู ุงููุฑุฉ ุงูุฌุงูุฉ ุชุฎูู ุงููุงุณ ุชุดูู ุฅู ุฑุจูุง ูู ุงููู ุณุงุนุฏู ูุจุงุฑููุ",
                fatherQuote: "ุนูุฏูุง ูุจุงุฑู ุงููู ุนููุงูุ ูุตุจุญ ูุฌุงุญู ุดูุงุฏุฉ ูุง ูููู ุฅููุงุฑูุง ุนูู ููุฉ ุงููู ูุฃูุงูุชู",
                fatherName: "ุงููุฏูุณ ุฌูุฑูู"
            },
            {
                verse: "ูุฌุงุก ุนุฒุฑุง ุงููุงุชุจ ุจุงูุดุฑูุนุฉ ุฃูุงู ุงูุฌูุงุนุฉ ูู ุงูุฑุฌุงู ูุงููุณุงุก ููู ูุงูู ูุง ููุณูุนุ ูู ุงูููู ุงูุฃูู ูู ุงูุดูุฑ ุงูุณุงุจุน",
                reference: "ูุญููุง 8:2",
                question: "ูุง ุงูุฐู ููุธูุฑ ุงูุชูุงู ูุญููุง ุจุงูุฌุงูุจ ุงูุฑูุญูุ",
                options: [
                    "ุงูุชูุงูู ุจูุฑุงุกุฉ ุงูุดุฑูุนุฉ ุจุงุณุชูุฑุงุฑ ููุดุนุจ",
                    "ุชุฑููุฒู ููุท ุนูู ุงูุจูุงุก ุงููุงุฏู",
                    "ุงูุชูุงูู ุจุงูุทููุณ ุงูุฏูููุฉ ููุท",
                    "ุชุฌุงููู ููุชุนููู ุงูุฑูุญู"
                ],
                correct: 0,
                tafseer: "ูุญููุง ุงูุฅูุณุงู ุงูุฑูุญู ูุฏุฑู ุฃู ุจูุงุก ุงูุฃุณูุงุฑ ุงููุงุฏูุฉ ูุฌุจ ุฃู ูุตุงุญุจู ุจูุงุก ุฑูุญู. ูุฑุงุกุฉ ุงูุดุฑูุนุฉ ูุชุนููููุง ููุดุนุจ ูุงู ุฌุฒุกุงู ุฃุณุงุณูุงู ูู ุฑุคูุชู ููุฅุตูุงุญ ุงูุดุงูู.",
                contemplation: "ูู ุญูุงุชูุ ูู ุชูุงุฒู ุจูู ุงููุฌุงุญ ุงููุงุฏู ูุงูููู ุงูุฑูุญูุ ููู ุชุณุชุซูุฑ ูู ุจูุงุก ุญูุงุชู ุงูุฑูุญูุฉุ",
                reflectionGuide: "ุดูู ูููู ุงูุนุงุฏู: ูุฏ ุฅูู ููุช ุจุชูุถูู ูู ุงูุดุบู ูุงููููุณ ูุงููุฌุงุญ ุงููุงุฏูุ ููุฏ ุฅูู ููุช ุจุชูุถูู ูู ุงูุตูุงุฉ ููุฑุงุกุฉ ุงููุชุงุจ ุงูููุฏุณ ูุงูููู ุงูุฑูุญูุ ุฅูู ุฑุฃูู ูู ุชุฎุตุต ููู 10 ุฏูุงูู ูู ููู ููุฌุงูุจ ุงูุฑูุญูุ",
                fatherQuote: "ูู ูุจูู ุงูุฌุฏุฑุงู ููููู ุงูุฑูุญุ ูุจูู ูุจุฑุงู ุฌูููุงู ูุญูุงุฉ ููุชุฉ. ุงูุจูุงุก ุงูุญูููู ูุจุฏุฃ ูู ุงูุฏุงุฎู",
                fatherName: "ุงููุฏูุณ ููุญูุง ุงูุฏูุดูู"
            },
            {
                verse: "ููุฑุญ ุฌููุน ุงูุฌูุงุนุฉ ูุงูุฑุงุฌุนูู ูู ุงูุณุจู. ููู ุฐูู ุงูููู ูุฑุจูุง ุฐุจุงุฆุญ ุนุธููุฉ ููุฑุญูุง ูุฃู ุงููู ูุฑุญูู ูุฑุญุงู ุนุธููุงู",
                reference: "ูุญููุง 12:43",
                question: "ูุง ูู ุณุฑ ูุฑุญ ุงูุดุนุจ ูู ุงูููุงูุฉุ",
                options: [
                    "ุฅูุฌุงุฒ ุงููุดุฑูุน ูู ุงูููุช ุงููุญุฏุฏ",
                    "ุงููู ูู ุณุฑ ูุฑุญูู ูุณุจุจ ูุฌุงุญูู",
                    "ุงูุญุตูู ุนูู ููุงูุขุช ูุงููุฉ ูุจูุฑุฉ",
                    "ุงูุชูุงุก ุงูุชุนุจ ูุงููุดูุฉ"
                ],
                correct: 1,
                tafseer: "ุงููุฑุญ ุงูุญูููู ูุง ูุฃุชู ูู ุงูุฅูุฌุงุฒุงุช ุงููุงุฏูุฉ ูุญุฏูุงุ ุจู ูู ุฅุฏุฑุงู ุฃู ุงููู ูู ุงูุฐู ุจุงุฑู ูุฃูุฌุญ ุงูุนูู. ูุฐุง ุงููุฑุญ ุงูุฑูุญู ูู ุงูุฐู ูุฏูู ููุนุทู ูุนูู ุญูููู ููุญูุงุฉ.",
                contemplation: "ูุง ูู ูุตุฏุฑ ูุฑุญู ุงูุญููููุ ูู ุชูุฑุญ ุจุงูุฅูุฌุงุฒุงุช ููุท ุฃู ุจุนูู ุงููู ูู ุญูุงุชูุ ููู ูููู ุฃู ุชุฌุนู ุงููู ูุตุฏุฑ ูุฑุญู ุงูุฏุงุฆูุ",
                reflectionGuide: "ููุฑ ูู ุขุฎุฑ ูุฑุฉ ููุช ูุฑุญุงู ูููุง ุฌุฏุงู. ูุงู ูุฑุญู ุฏู ุจุณุจุจ ุฅููุ ุญุงุฌุฉ ุญุตูุชูุงุ ููุง ูุดููุฉ ุงุชุญูุชุ ุฌุฑุจ ุชูุชูุฑ ูุญุธุฉ ุญุณูุช ูููุง ุจูุฑุญ ุนููู ูุด ูุฑุชุจุท ุจุญุงุฌุฉ ูุงุฏูุฉุ ููู ุจูุฑุจู ูู ุฑุจูุง ุฃู ุฅุญุณุงุณู ุจุญุจู ููู.",
                fatherQuote: "ุงููุฑุญ ุงูุฐู ูุตุฏุฑู ุงููู ูุง ุชุณุชุทูุน ุธุฑูู ุงูุนุงูู ุฃู ุชุณูุจูุ ูุฃูู ูุชุฌุฐุฑ ูู ุงูุฃุจุฏูุฉ ูููุณ ูู ุงูุฒูู",
                fatherName: "ุงููุฏูุณ ุฃุซูุงุณููุณ ุงูุฑุณููู"
            },
            {
                verse: "ูููู ุงูุณูุฑ ูู ุงูุฎุงูุณ ูุงูุนุดุฑูู ูู ุฃููููุ ูู ุงุซููู ูุฎูุณูู ูููุงู",
                reference: "ูุญููุง 6:15",
                question: "ูุง ุงูุฏุฑุณ ุงูุฃูู ูู ุฅุชูุงู ุจูุงุก ุงูุณูุฑ ูู 52 ูููุงูุ",
                options: [
                    "ุฃูููุฉ ุงูุณุฑุนุฉ ูู ุชูููุฐ ุงููุดุงุฑูุน",
                    "ููุฉ ุงูุนูู ุงูุฌูุงุนู ุงูููุธู",
                    "ุฃู ุงููู ูุจุงุฑู ุงูุนูู ุงููุคุณุณ ุนูู ุงูุฅููุงู ูุงูุตูุงุฉ",
                    "ุถุฑูุฑุฉ ูุถุน ุฌุฏุงูู ุฒูููุฉ ูุญุฏุฏุฉ"
                ],
                correct: 2,
                tafseer: "ุฅุชูุงู ุงูุณูุฑ ูู ููุช ููุงุณู ุฑุบู ูู ุงูุชุญุฏูุงุช ููุธูุฑ ุฃู ุงููู ูุจุงุฑู ุงูุนูู ุงูุฐู ููุจูู ุนูู ุฃุณุงุณ ุฑูุญู ุตุญูุญ. ุงูุตูุงุฉ ูุงูุฅููุงู ูุงูุนูู ุงูุฌุงุฏ ูุนุงู ูุญูููู ุงููุนุฌุฒุงุช.",
                contemplation: "ูู ูุดุงุฑูุนู ูุฃูุฏุงููุ ูู ุชุคุณุณูุง ุนูู ุงูุตูุงุฉ ูุงูุฅููุงูุ ููู ูููู ุฃู ุชุฏุนู ุงููู ููุจุงุฑู ุฃุนูุงูู ููุณุฑุน ูู ุฅูุฌุงุฒูุงุ",
                reflectionGuide: "ููุฑ ูู ูุฏู ููู ุนุงูุฒ ุชุญููู ูู ุงููุชุฑุฉ ุงูุฌุงูุฉ. ูู ุตููุช ุนูููุ ูู ุทูุจุช ูู ุฑุจูุง ูุจุงุฑููุ ุฌุฑุจ ุฏูููุชู ุชูุชุจ ุงููุฏู ุฏู ูุชุญุทู ูุฏุงู ุตูุฑุฉ ุงููุณูุญ ูุชุตูู ุนููู ูู ููู. ุดูู ุงููุฑู ููุจูู ุฅูู.",
                fatherQuote: "ุงูุนูู ุงููุคุณุณ ุนูู ุงูุตูุงุฉ ูุงููุจูู ุจุงูุฅููุงูุ ูุญูู ุจุฑูุฉ ุงูุณูุงุก ููุง ุชุณุชุทูุน ููู ุงูุฃุฑุถ ุฃู ุชูููู",
                fatherName: "ุงููุฏูุณ ููุงุฑููุณ ุงููุจูุฑ"
            }
        ];

        let currentLessonIndex = 0;
        let wallProgress = 0;
        const totalLessons = lessons.length;

        // DOM elements
        const progressBar = document.getElementById('progressBar');
        const progressCircle = document.getElementById('progressCircle');
        const progressPercentage = document.getElementById('progressPercentage');
        const progressText = document.getElementById('progressText');
        const welcomeScreen = document.getElementById('welcomeScreen');
        const lessonSection = document.getElementById('lessonSection');
        const quizSection = document.getElementById('quizSection');
        const insightSection = document.getElementById('insightSection');
        const completionScreen = document.getElementById('completionScreen');

        // Enhanced Realistic Building Sound System
        let audioContext;
        
        function initAudio() {
            if (!audioContext) {
                try {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    if (audioContext.state === 'suspended') {
                        audioContext.resume();
                    }
                } catch (e) {
                    console.log('Audio not supported');
                }
            }
        }

        function createHammerStrike() {
            if (!audioContext) return;
            
            // Multiple hammer strikes for realism
            const strikes = [
                { freq: 1200, time: 0, volume: 0.8 },
                { freq: 800, time: 0.05, volume: 0.6 },
                { freq: 400, time: 0.1, volume: 0.4 }
            ];
            
            strikes.forEach(strike => {
                const osc = audioContext.createOscillator();
                const gain = audioContext.createGain();
                const filter = audioContext.createBiquadFilter();
                
                osc.connect(filter);
                filter.connect(gain);
                gain.connect(audioContext.destination);
                
                osc.frequency.setValueAtTime(strike.freq, audioContext.currentTime + strike.time);
                osc.frequency.exponentialRampToValueAtTime(strike.freq * 0.3, audioContext.currentTime + strike.time + 0.08);
                osc.type = 'square';
                
                filter.type = 'bandpass';
                filter.frequency.setValueAtTime(strike.freq * 0.8, audioContext.currentTime + strike.time);
                filter.Q.setValueAtTime(3, audioContext.currentTime + strike.time);
                
                gain.gain.setValueAtTime(strike.volume, audioContext.currentTime + strike.time);
                gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + strike.time + 0.15);
                
                osc.start(audioContext.currentTime + strike.time);
                osc.stop(audioContext.currentTime + strike.time + 0.15);
            });
        }

        function createStoneChipping() {
            if (!audioContext) return;
            
            // Create realistic stone chipping sound
            const bufferSize = audioContext.sampleRate * 0.4;
            const buffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate);
            const data = buffer.getChannelData(0);
            
            // Generate filtered noise for stone chips
            for (let i = 0; i < bufferSize; i++) {
                const t = i / audioContext.sampleRate;
                const envelope = Math.exp(-t * 8); // Decay envelope
                const noise = (Math.random() * 2 - 1) * envelope;
                const crackle = Math.sin(t * 2000 + Math.random() * 10) * envelope * 0.3;
                data[i] = (noise + crackle) * 0.5;
            }
            
            const source = audioContext.createBufferSource();
            source.buffer = buffer;
            
            const filter = audioContext.createBiquadFilter();
            const gain = audioContext.createGain();
            
            source.connect(filter);
            filter.connect(gain);
            gain.connect(audioContext.destination);
            
            filter.type = 'bandpass';
            filter.frequency.setValueAtTime(600, audioContext.currentTime + 0.1);
            filter.Q.setValueAtTime(2, audioContext.currentTime + 0.1);
            
            gain.gain.setValueAtTime(0.6, audioContext.currentTime + 0.1);
            gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.5);
            
            source.start(audioContext.currentTime + 0.1);
        }

        function createMortarScraping() {
            if (!audioContext) return;
            
            // Realistic mortar scraping with texture
            const osc1 = audioContext.createOscillator();
            const osc2 = audioContext.createOscillator();
            const gain = audioContext.createGain();
            const filter = audioContext.createBiquadFilter();
            const lfo = audioContext.createOscillator();
            const lfoGain = audioContext.createGain();
            
            // Main scraping sound
            osc1.frequency.setValueAtTime(180, audioContext.currentTime + 0.3);
            osc1.frequency.linearRampToValueAtTime(120, audioContext.currentTime + 1.2);
            osc1.type = 'sawtooth';
            
            // Texture layer
            osc2.frequency.setValueAtTime(90, audioContext.currentTime + 0.3);
            osc2.frequency.linearRampToValueAtTime(60, audioContext.currentTime + 1.2);
            osc2.type = 'square';
            
            // LFO for texture variation
            lfo.frequency.setValueAtTime(8, audioContext.currentTime + 0.3);
            lfo.type = 'sine';
            lfoGain.gain.setValueAtTime(20, audioContext.currentTime + 0.3);
            
            lfo.connect(lfoGain);
            lfoGain.connect(osc1.frequency);
            
            osc1.connect(filter);
            osc2.connect(filter);
            filter.connect(gain);
            gain.connect(audioContext.destination);
            
            filter.type = 'lowpass';
            filter.frequency.setValueAtTime(400, audioContext.currentTime + 0.3);
            filter.frequency.linearRampToValueAtTime(200, audioContext.currentTime + 1.2);
            
            gain.gain.setValueAtTime(0, audioContext.currentTime + 0.3);
            gain.gain.linearRampToValueAtTime(0.4, audioContext.currentTime + 0.5);
            gain.gain.linearRampToValueAtTime(0.3, audioContext.currentTime + 1.0);
            gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 1.2);
            
            lfo.start(audioContext.currentTime + 0.3);
            osc1.start(audioContext.currentTime + 0.3);
            osc2.start(audioContext.currentTime + 0.3);
            
            lfo.stop(audioContext.currentTime + 1.2);
            osc1.stop(audioContext.currentTime + 1.2);
            osc2.stop(audioContext.currentTime + 1.2);
        }

        function createAmbientEcho() {
            if (!audioContext) return;
            
            // Create ambient construction site echo
            const delay = audioContext.createDelay(2.0);
            const feedback = audioContext.createGain();
            const wetGain = audioContext.createGain();
            const filter = audioContext.createBiquadFilter();
            
            // Echo parameters
            delay.delayTime.setValueAtTime(0.3, audioContext.currentTime + 1.5);
            feedback.gain.setValueAtTime(0.3, audioContext.currentTime + 1.5);
            wetGain.gain.setValueAtTime(0.2, audioContext.currentTime + 1.5);
            
            filter.type = 'lowpass';
            filter.frequency.setValueAtTime(800, audioContext.currentTime + 1.5);
            
            // Create echo source
            const echoOsc = audioContext.createOscillator();
            const echoGain = audioContext.createGain();
            
            echoOsc.frequency.setValueAtTime(300, audioContext.currentTime + 1.5);
            echoOsc.frequency.exponentialRampToValueAtTime(80, audioContext.currentTime + 2.5);
            echoOsc.type = 'triangle';
            
            echoGain.gain.setValueAtTime(0.15, audioContext.currentTime + 1.5);
            echoGain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 2.5);
            
            echoOsc.connect(echoGain);
            echoGain.connect(delay);
            delay.connect(feedback);
            feedback.connect(delay);
            delay.connect(filter);
            filter.connect(wetGain);
            wetGain.connect(audioContext.destination);
            
            echoOsc.start(audioContext.currentTime + 1.5);
            echoOsc.stop(audioContext.currentTime + 2.5);
        }

        function createRealisticBuildingSound() {
            initAudio();
            if (!audioContext) return;
            
            try {
                // Sequence of realistic construction sounds
                createHammerStrike();
                
                setTimeout(() => createHammerStrike(), 200);
                setTimeout(() => createHammerStrike(), 400);
                
                createStoneChipping();
                createMortarScraping();
                createAmbientEcho();
                
            } catch (e) {
                console.log('Audio playback failed:', e);
            }
        }

        function playBuildingSound() {
            createRealisticBuildingSound();
            createDustParticles();
        }

        // Enable audio on first user interaction
        function enableAudio() {
            initAudio();
            if (audioContext && audioContext.state === 'suspended') {
                audioContext.resume();
            }
        }

        // Add click listeners to enable audio
        document.addEventListener('click', enableAudio, { once: true });
        document.addEventListener('touchstart', enableAudio, { once: true });

        function setPlayerName() {
            const nameInput = document.getElementById('playerName');
            const name = nameInput.value.trim();
            
            if (!name) {
                alert('ูู ูุถูู ุงูุชุจ ุงุณูู ุนุดุงู ููุฏุฑ ููุงุฏูู ุจูู! ๐');
                nameInput.focus();
                return;
            }
            
            playerName = name;
            document.getElementById('welcomeName').textContent = playerName;
            
            // Hide initial name screen and show welcome screen
            document.getElementById('initialNameScreen').classList.add('hidden');
            document.getElementById('welcomeScreen').classList.remove('hidden');
            
            // Show personalized welcome notification
            showSuccessNotification(`ุฃููุงู ูุณููุงู ูุง ${playerName}! ููุง ูุจุฏุฃ ุฑุญูุฉ ุงูุจูุงุก ุงูุฑูุญูุฉ ๐`, true);
        }

        function createDustParticles() {
            const wallArea = document.querySelector('.wall-section');
            if (!wallArea) return;
            
            for (let i = 0; i < 5; i++) {
                const dust = document.createElement('div');
                dust.className = 'building-dust';
                dust.style.left = Math.random() * 100 + '%';
                dust.style.animationDelay = Math.random() * 0.5 + 's';
                wallArea.appendChild(dust);
                
                setTimeout(() => {
                    if (dust.parentNode) {
                        dust.parentNode.removeChild(dust);
                    }
                }, 2000);
            }
        }

        function createBrickPattern(wallElement) {
            const brickContainer = wallElement.querySelector('.brick-pattern');
            if (!brickContainer) return;
            
            brickContainer.innerHTML = '';
            
            // Create brick rows
            for (let row = 0; row < 8; row++) {
                const brickRow = document.createElement('div');
                brickRow.className = 'brick-row';
                brickRow.style.bottom = (row * 12) + 'px';
                
                // Alternate brick pattern
                if (row % 2 === 0) {
                    brickRow.style.background = 'linear-gradient(135deg, #8b7355, #6b5b47, #8b7355)';
                } else {
                    brickRow.style.background = 'linear-gradient(135deg, #7a6344, #5a4a3a, #7a6344)';
                }
                
                brickContainer.appendChild(brickRow);
                
                // Add mortar lines
                if (row < 7) {
                    const mortarLine = document.createElement('div');
                    mortarLine.className = 'mortar-line';
                    mortarLine.style.bottom = ((row + 1) * 12 - 1) + 'px';
                    mortarLine.style.height = '2px';
                    mortarLine.style.width = '100%';
                    brickContainer.appendChild(mortarLine);
                }
                
                // Add vertical mortar lines
                for (let brick = 1; brick < 3; brick++) {
                    const verticalMortar = document.createElement('div');
                    verticalMortar.className = 'mortar-line';
                    verticalMortar.style.bottom = (row * 12) + 'px';
                    verticalMortar.style.height = '12px';
                    verticalMortar.style.width = '2px';
                    verticalMortar.style.left = (brick * 33.33) + '%';
                    brickContainer.appendChild(verticalMortar);
                }
            }
        }

        // Global variable for player name
        let playerName = '';

        // Event listeners
        document.getElementById('startWithName').addEventListener('click', setPlayerName);
        document.getElementById('startBuilding').addEventListener('click', startJourney);
        document.getElementById('proceedToQuiz').addEventListener('click', showQuiz);
        document.getElementById('continueBuilding').addEventListener('click', nextLesson);
        document.getElementById('addNameToWall').addEventListener('click', addNameToWall);
        document.getElementById('downloadWallPhoto').addEventListener('click', downloadWallPhoto);
        document.getElementById('restartJourney').addEventListener('click', restartJourney);
        document.getElementById('shareWisdom').addEventListener('click', shareWisdom);

        // Handle Enter key for name input
        document.getElementById('playerName').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                setPlayerName();
            }
        });

        function startJourney() {
            welcomeScreen.classList.add('hidden');
            showLesson();
        }

        function showLesson() {
            if (currentLessonIndex >= totalLessons) {
                showCompletion();
                return;
            }

            const lesson = lessons[currentLessonIndex];
            
            // Hide other sections
            quizSection.classList.add('hidden');
            insightSection.classList.add('hidden');
            
            // Show lesson
            lessonSection.classList.remove('hidden');
            document.getElementById('currentVerse').textContent = lesson.verse;
            document.getElementById('currentReference').textContent = lesson.reference;
        }

        function showQuiz() {
            const lesson = lessons[currentLessonIndex];
            
            lessonSection.classList.add('hidden');
            quizSection.classList.remove('hidden');
            
            document.getElementById('quizQuestion').textContent = lesson.question;
            
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';
            
            lesson.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'quiz-option w-full p-5 bg-gradient-to-r from-indigo-600 via-blue-600 to-indigo-600 hover:from-indigo-700 hover:via-blue-700 hover:to-indigo-700 rounded-xl text-right font-semibold text-lg border border-indigo-400';
                button.textContent = option;
                button.addEventListener('click', () => checkAnswer(index));
                optionsContainer.appendChild(button);
            });
        }

        function showSuccessNotification(message, isCorrect = true) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `fixed top-4 left-1/2 transform -translate-x-1/2 z-50 px-6 py-4 rounded-xl font-bold text-lg shadow-2xl transition-all duration-500 ${
                isCorrect 
                    ? 'bg-gradient-to-r from-green-500 to-green-600 text-white' 
                    : 'bg-gradient-to-r from-red-500 to-red-600 text-white'
            }`;
            notification.style.transform = 'translateX(-50%) translateY(-100px)';
            notification.style.opacity = '0';
            
            notification.innerHTML = `
                <div class="flex items-center space-x-3 space-x-reverse">
                    <div class="text-2xl">${isCorrect ? '๐' : '๐ช'}</div>
                    <div>${message}</div>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(-50%) translateY(0)';
                notification.style.opacity = '1';
            }, 100);
            
            // Animate out
            setTimeout(() => {
                notification.style.transform = 'translateX(-50%) translateY(-100px)';
                notification.style.opacity = '0';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 500);
            }, 3000);
        }

        function scrollToWall() {
            const wallSection = document.querySelector('.glass-card:has(.wall-section)');
            if (wallSection) {
                wallSection.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center' 
                });
            }
        }

        function scrollToInsight() {
            const insightSection = document.getElementById('insightSection');
            if (insightSection && !insightSection.classList.contains('hidden')) {
                insightSection.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
            }
        }

        function scrollToNextLesson() {
            const lessonSection = document.getElementById('lessonSection');
            if (lessonSection && !lessonSection.classList.contains('hidden')) {
                lessonSection.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
            }
        }

        function checkAnswer(selectedIndex) {
            const lesson = lessons[currentLessonIndex];
            const options = document.querySelectorAll('.quiz-option');
            const feedback = document.getElementById('quizFeedback');
            
            // Disable all options
            options.forEach(option => option.disabled = true);
            
            if (selectedIndex === lesson.correct) {
                // Correct answer
                options[selectedIndex].classList.add('correct-answer');
                
                // Show success notification
                showSuccessNotification(`ุจุฑุงูู ูุง ${playerName}! ุฅุฌุงุจุฉ ุชุญูุฉ! ููุจูู ุฏูููุชู ุฌุฒุก ูู ุงูุณูุฑ... ๐๏ธ`, true);
                
                feedback.innerHTML = `
                    <div class="text-green-300 font-bold text-xl mb-3">โ ุฅุฌุงุจุฉ ุชุญูุฉ!</div>
                    <p class="text-lg text-gray-200">ุจุฑุงูู ุนููู! ููุจูู ุฏูููุชู ุฌุฒุก ูู ุงูุณูุฑ...</p>
                    <div class="mt-4 flex justify-center">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-green-400"></div>
                    </div>
                `;
                feedback.classList.remove('hidden');
                
                setTimeout(() => {
                    // Scroll to wall before building
                    scrollToWall();
                    
                    setTimeout(() => {
                        buildWallSection();
                        
                        // Show building completion notification
                        setTimeout(() => {
                            showSuccessNotification(`ููุชุงุฒ ูุง ${playerName}! ุชู ุจูุงุก ุฌุฒุก ุฌุฏูุฏ ูู ุงูุณูุฑ ุจูุฌุงุญ! ๐ฏ`, true);
                        }, 1000);
                        
                        setTimeout(() => {
                            showInsight();
                            
                            // Auto-scroll to insight section after building
                            setTimeout(() => {
                                scrollToInsight();
                            }, 500);
                        }, 2000);
                    }, 800);
                }, 1500);
                
            } else {
                // Wrong answer
                options[selectedIndex].classList.add('wrong-answer');
                options[lesson.correct].classList.add('correct-answer');
                
                // Show encouragement notification
                showSuccessNotification(`ูุด ูุดููุฉ ูุง ${playerName}! ุฅุญูุง ุจูุชุนูู ูู ุงููุญุงููุฉ ๐ช`, false);
                
                feedback.innerHTML = `
                    <div class="text-red-300 font-bold text-xl mb-3">โ ูุด ูุฏู!</div>
                    <p class="text-lg text-gray-200 mb-2">ุงูุฅุฌุงุจุฉ ุงูุตุญ: ${lesson.options[lesson.correct]}</p>
                    <p class="text-gray-300">ูุด ูุดููุฉุ ุฅุญูุง ุจูุชุนูู ูู ุงููุญุงููุฉ. ููุจูู ุจุฑุถู ุฌุฒุก ูู ุงูุณูุฑ...</p>
                    <div class="mt-4 flex justify-center">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-400"></div>
                    </div>
                `;
                feedback.classList.remove('hidden');
                
                setTimeout(() => {
                    // Scroll to wall before building
                    scrollToWall();
                    
                    setTimeout(() => {
                        buildWallSection();
                        
                        // Show building completion notification
                        setTimeout(() => {
                            showSuccessNotification(`ุฃุญุณูุช ูุง ${playerName}! ุชู ุจูุงุก ุฌุฒุก ุฌุฏูุฏ ูู ุงูุณูุฑ! ๐๏ธ`, true);
                        }, 1000);
                        
                        setTimeout(() => {
                            showInsight();
                            
                            // Auto-scroll to insight section after building
                            setTimeout(() => {
                                scrollToInsight();
                            }, 500);
                        }, 2000);
                    }, 800);
                }, 2000);
            }
        }

        function showInsight() {
            const lesson = lessons[currentLessonIndex];
            
            quizSection.classList.add('hidden');
            insightSection.classList.remove('hidden');
            
            // Populate insight content
            document.getElementById('tafseerContent').textContent = lesson.tafseer;
            document.getElementById('contemplationContent').textContent = lesson.contemplation;
            document.getElementById('reflectionGuide').textContent = lesson.reflectionGuide;
            document.getElementById('fatherQuote').textContent = lesson.fatherQuote;
            document.getElementById('fatherName').textContent = `- ${lesson.fatherName}`;
        }

        function nextLesson() {
            currentLessonIndex++;
            insightSection.classList.add('hidden');
            
            if (currentLessonIndex < totalLessons) {
                showLesson();
                
                // Auto-scroll to next lesson after a short delay
                setTimeout(() => {
                    scrollToNextLesson();
                }, 300);
            } else {
                showCompletion();
                
                // Auto-scroll to completion screen
                setTimeout(() => {
                    const completionScreen = document.getElementById('completionScreen');
                    if (completionScreen && !completionScreen.classList.contains('hidden')) {
                        completionScreen.scrollIntoView({ 
                            behavior: 'smooth', 
                            block: 'start' 
                        });
                    }
                }, 300);
            }
        }

        function buildWallSection() {
            wallProgress++;
            updateProgress();
            
            // Play building sound
            playBuildingSound();
            
            // Show building notification
            const buildingMessages = [
                `๐จ ููุง ูุง ${playerName}ุ ุจูุจูู ุงูุฃุณุงุณ ุงูุฃูู...`,
                `๐งฑ ููุชุงุฒ ูุง ${playerName}! ุญุงุทูู ุงูุทูุจ ุงูุชุงูู...`, 
                `โ๏ธ ุจุฑุงูู ูุง ${playerName}! ุจูููู ุงูุญูุทุฉ ุงูุชุงูุชุฉ...`,
                `๐๏ธ ุฃุญุณูุช ูุง ${playerName}! ุจูุจูู ุงูุฌุฒุก ุงูุฑุงุจุน...`,
                `๐ช ุฑุงุฆุน ูุง ${playerName}! ุจูุจูู ุงูุจูุงุจุฉ ุงูููุฏุณุฉ...`,
                `๐ง ุนุธูู ูุง ${playerName}! ุจูููู ุงูุฌุฒุก ุงูุณุงุฏุณ...`,
                `โ๏ธ ุชุญูุฉ ูุง ${playerName}! ุจูุดูุฏ ุงูุฌุฒุก ุงูุณุงุจุน...`,
                `๐ชจ ููุชุงุฒ ูุง ${playerName}! ุญุงุทูู ุงูุญุฌุงุฑุฉ ุงูุชุงููุฉ...`,
                `๐จ ุฃุญุณูุช ูุง ${playerName}! ุจูุจูู ุงูุฌุฒุก ุงูุชุงุณุน...`,
                `โจ ูุจุฑูู ูุง ${playerName}! ุฎูุตูุง ุงูุณูุฑ ุงูููุฏุณ!`
            ];
            
            if (wallProgress <= buildingMessages.length) {
                setTimeout(() => {
                    showSuccessNotification(buildingMessages[wallProgress - 1], true);
                }, 500);
            }
            
            if (wallProgress <= 10) {
                const wallElement = document.getElementById(`wall${wallProgress}`);
                if (wallElement) {
                    wallElement.style.height = '100px';
                    wallElement.style.opacity = '1';
                    wallElement.classList.add('wall-built', 'hammer-strike');
                    
                    // Create realistic brick pattern
                    createBrickPattern(wallElement);
                    
                    setTimeout(() => {
                        wallElement.classList.remove('hammer-strike');
                    }, 300);
                }
            }
            
            // Special handling for gate
            if (wallProgress === 5) {
                const gateElement = document.getElementById('gate');
                gateElement.style.height = '120px';
                gateElement.style.opacity = '1';
                gateElement.classList.add('gate-built');
                
                setTimeout(() => {
                    document.getElementById('gateLight').style.opacity = '1';
                    document.getElementById('gateArch').style.opacity = '1';
                    showSuccessNotification(`๐ช ุฑุงุฆุน ูุง ${playerName}! ุชู ูุชุญ ุงูุจูุงุจุฉ ุงูููุฏุณุฉ! ููุฑ ุงููู ูุถูุก ุงูุทุฑูู โจ`, true);
                }, 800);
            }
            
            // Show cross and completion text when wall is complete
            if (wallProgress >= totalLessons) {
                setTimeout(() => {
                    document.getElementById('orthodoxCross').style.opacity = '1';
                    document.getElementById('wallCompletionText').style.opacity = '1';
                    
                    // Final completion notification
                    setTimeout(() => {
                        showSuccessNotification(`๐ ูุจุฑูู ูุง ${playerName}! ุชู ุฅููุงู ุณูุฑ ุฃูุฑุดููู ุจูุนูุฉ ุงููู! โฆ๏ธ`, true);
                    }, 500);
                }, 1500);
            }
        }

        function updateProgress() {
            const percentage = Math.round((wallProgress / totalLessons) * 100);
            progressBar.style.width = `${percentage}%`;
            progressPercentage.textContent = `${percentage}%`;
            
            // Update circular progress
            const circumference = 2 * Math.PI * 52;
            const offset = circumference - (percentage / 100) * circumference;
            progressCircle.style.strokeDashoffset = offset;
            
            const messages = [
                `ุงุณุชุนุฏ ูุง ${playerName} ููุฑุญูุฉ ุงูุฑูุญูุฉ ุงูุญููุฉ ุฏู`,
                `ุจุฑุงูู ูุง ${playerName}! ุจุฏุงูุฉ ูููุฉ - ุบูุฑุฉ ููุฏุณุฉ ๐ฅ`,
                `ููุชุงุฒ ูุง ${playerName}! ุชูุฏู ุฑุงุฆุน - ุฑุงุฌู ุตูุงุฉ ๐`,
                `ุฃุญุณูุช ูุง ${playerName}! ููุฉ ูู ุงูููุงุฌูุฉ - ุซูุฉ ูู ุฑุจูุง ๐ช`,
                `ุฑุงุฆุน ูุง ${playerName}! ููุงุฏุฉ ุญูููุฉ - ุดุบู ุฌูุงุนู ๐ฅ`,
                `ุนุธูู ูุง ${playerName}! ุงูุจูุงุจุฉ ุจุชูุชุญ - ุญููุฉ ูุญุฐุฑ โ๏ธ`,
                `ุชุญูุฉ ูุง ${playerName}! ูุฏูุฉ ูู ุงูุดุบู - ููุงุฏุฉ ุจุงููุซุงู ๐`,
                `ููุชุงุฒ ูุง ${playerName}! ูุฌุงุญ ุจุฑุจูุง - ุดูุงุฏุฉ ููุนุงูู โจ`,
                `ุฃุญุณูุช ูุง ${playerName}! ุฑูุญุงููุฉ ุนูููุฉ - ููุงู ุฑุจูุง ๐`,
                `ุจุฑุงูู ูุง ${playerName}! ูุฑุญ ุจุฑุจูุง - ุฎูุตูุง ุงููููุฉ ๐`,
                `ูุจุฑูู ูุง ${playerName}! ููุชูู! ุงูุณูุฑ ูุงูู ุจูุนูุฉ ุฑุจูุง ๐๏ธ`
            ];
            
            progressText.textContent = messages[wallProgress] || messages[0];
        }

        function showCompletion() {
            insightSection.classList.add('hidden');
            
            // Show name input screen first and populate with player name
            const nameInputScreen = document.getElementById('nameInputScreen');
            document.getElementById('completionName').textContent = playerName;
            nameInputScreen.classList.remove('hidden');
            
            // Auto-scroll to name input
            setTimeout(() => {
                nameInputScreen.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
            }, 300);
        }

        function addNameToWall() {
            const nameInput = document.getElementById('builderName');
            const name = nameInput.value.trim();
            
            if (!name) {
                alert('ูู ูุถูู ุงูุชุจ ุงุณูู ุงูุฃูู! ๐');
                nameInput.focus();
                return;
            }
            
            // Display name on wall
            document.getElementById('displayBuilderName').textContent = name;
            document.getElementById('builderNameOnWall').style.opacity = '1';
            
            // Show success notification
            showSuccessNotification(`๐ ุชู ูุชุงุจุฉ ุงุณู "${name}" ุนูู ุงูุณูุฑ ุงูููุฏุณ! `, true);
            
            // Hide name input and show completion screen
            setTimeout(() => {
                document.getElementById('nameInputScreen').classList.add('hidden');
                document.getElementById('finalCompletionName').textContent = name;
                document.getElementById('completionScreen').classList.remove('hidden');
                
                // Auto-scroll to completion screen
                setTimeout(() => {
                    document.getElementById('completionScreen').scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'start' 
                    });
                }, 300);
            }, 2000);
        }

        function downloadWallPhoto() {
            // Create a canvas to capture the wall
            const wallContainer = document.querySelector('.glass-card:has(.wall-section)');
            
            // Use html2canvas library functionality (simplified version)
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            // Set canvas size
            canvas.width = 800;
            canvas.height = 600;
            
            // Create gradient background
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#0f172a');
            gradient.addColorStop(0.3, '#1e1b4b');
            gradient.addColorStop(0.6, '#312e81');
            gradient.addColorStop(1, '#581c87');
            
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Add stars
            ctx.fillStyle = '#fbbf24';
            for (let i = 0; i < 20; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * (canvas.height * 0.4);
                const size = Math.random() * 3 + 1;
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Add moon
            ctx.fillStyle = '#fef3c7';
            ctx.beginPath();
            ctx.arc(canvas.width - 80, 60, 30, 0, Math.PI * 2);
            ctx.fill();
            
            // Add ground
            const groundGradient = ctx.createLinearGradient(0, canvas.height - 80, 0, canvas.height);
            groundGradient.addColorStop(0, '#92400e');
            groundGradient.addColorStop(0.5, '#a16207');
            groundGradient.addColorStop(1, '#92400e');
            
            ctx.fillStyle = groundGradient;
            ctx.fillRect(0, canvas.height - 80, canvas.width, 80);
            
            // Draw wall sections
            const wallWidth = 60;
            const wallHeight = 120;
            const wallY = canvas.height - 80 - wallHeight;
            const totalWallWidth = wallWidth * 10;
            const startX = (canvas.width - totalWallWidth) / 2;
            
            for (let i = 0; i < 10; i++) {
                const x = startX + (i * wallWidth);
                
                // Wall gradient
                const wallGradient = ctx.createLinearGradient(x, wallY, x, wallY + wallHeight);
                wallGradient.addColorStop(0, '#6b7280');
                wallGradient.addColorStop(0.5, '#4b5563');
                wallGradient.addColorStop(1, '#374151');
                
                ctx.fillStyle = wallGradient;
                ctx.fillRect(x, wallY, wallWidth - 2, wallHeight);
                
                // Wall border
                ctx.strokeStyle = '#9ca3af';
                ctx.lineWidth = 2;
                ctx.strokeRect(x, wallY, wallWidth - 2, wallHeight);
                
                // Add brick pattern
                ctx.strokeStyle = '#6b7280';
                ctx.lineWidth = 1;
                for (let row = 0; row < 8; row++) {
                    const brickY = wallY + wallHeight - (row * 15) - 15;
                    ctx.beginPath();
                    ctx.moveTo(x, brickY);
                    ctx.lineTo(x + wallWidth - 2, brickY);
                    ctx.stroke();
                }
            }
            
            // Add gate (middle section)
            const gateX = startX + (4 * wallWidth);
            const gateGradient = ctx.createLinearGradient(gateX, wallY - 20, gateX, wallY + wallHeight);
            gateGradient.addColorStop(0, '#d97706');
            gateGradient.addColorStop(0.5, '#b45309');
            gateGradient.addColorStop(1, '#92400e');
            
            ctx.fillStyle = gateGradient;
            ctx.fillRect(gateX, wallY - 20, wallWidth * 2, wallHeight + 20);
            
            // Gate border
            ctx.strokeStyle = '#f59e0b';
            ctx.lineWidth = 3;
            ctx.strokeRect(gateX, wallY - 20, wallWidth * 2, wallHeight + 20);
            
            // Add gate arch
            ctx.fillStyle = '#451a03';
            ctx.beginPath();
            ctx.arc(gateX + wallWidth, wallY + wallHeight - 20, 25, 0, Math.PI, true);
            ctx.fill();
            
            // Add cross
            ctx.fillStyle = '#fbbf24';
            ctx.font = 'bold 40px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('โฆ๏ธ', canvas.width / 2, 100);
            
            // Add title
            ctx.fillStyle = '#fbbf24';
            ctx.font = 'bold 36px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('ููู ููุจูู', canvas.width / 2, 160);
            
            // Add builder name
            const builderName = document.getElementById('displayBuilderName').textContent;
            if (builderName) {
                // Name background
                const nameWidth = ctx.measureText(builderName).width + 40;
                const nameX = (canvas.width - nameWidth) / 2;
                const nameY = canvas.height - 200;
                
                const nameGradient = ctx.createLinearGradient(nameX, nameY, nameX + nameWidth, nameY + 60);
                nameGradient.addColorStop(0, '#fbbf24');
                nameGradient.addColorStop(0.5, '#f59e0b');
                nameGradient.addColorStop(1, '#fbbf24');
                
                ctx.fillStyle = nameGradient;
                ctx.fillRect(nameX, nameY, nameWidth, 60);
                
                // Name border
                ctx.strokeStyle = '#d97706';
                ctx.lineWidth = 3;
                ctx.strokeRect(nameX, nameY, nameWidth, 60);
                
                // Builder name text
                ctx.fillStyle = '#000000';
                ctx.font = 'bold 28px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(builderName, canvas.width / 2, nameY + 35);
                
                // Event details
                ctx.fillStyle = '#1f2937';
                ctx.font = 'bold 14px Arial';
                ctx.fillText('ููู ุงูุนุฒุงุจ ูุงูุนุงุฒุจุงุช ุงูุณุงุฏุณ', canvas.width / 2, nameY + 50);
                ctx.fillText('ูขูฆ ุณุจุชูุจุฑ ูขููขูฅ', canvas.width / 2, nameY + 65);
            }
            
            // Add completion text
            ctx.fillStyle = '#60a5fa';
            ctx.font = 'bold 20px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('ุชู ุจูุงุก ุงูุณูุฑ ุจูุนูุฉ ุงููู', canvas.width / 2, canvas.height - 120);
            
            ctx.font = '16px Arial';
            ctx.fillText('ูุญููุง 6:15', canvas.width / 2, canvas.height - 100);
            
            // Download the image
            canvas.toBlob(function(blob) {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `ุณูุฑ-ุฃูุฑุดููู-${builderName || 'ุจุงูู'}.png`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                showSuccessNotification('ุชู ุชุญููู ุตูุฑุฉ ุงูุณูุฑ ุจูุฌุงุญ! ๐ธ', true);
            }, 'image/png');
        }

        function restartJourney() {
            currentLessonIndex = 0;
            wallProgress = 0;
            playerName = '';
            resetWall();
            updateProgress();
            
            // Hide all screens
            document.getElementById('nameInputScreen').classList.add('hidden');
            completionScreen.classList.add('hidden');
            welcomeScreen.classList.add('hidden');
            
            // Clear name inputs and displays
            document.getElementById('playerName').value = '';
            document.getElementById('builderName').value = '';
            document.getElementById('displayBuilderName').textContent = '';
            document.getElementById('builderNameOnWall').style.opacity = '0';
            
            // Show initial name screen
            document.getElementById('initialNameScreen').classList.remove('hidden');
        }

        function shareWisdom() {
            const shareText = `ุฎูุตุช ุฑุญูุฉ "ุชุนุงููุง ูุจูู" ุงูุฑูุญูุฉ ูุน ูุญููุง ูู ููู ุงูุนุฒุงุจ ูุงูุนุงุฒุจุงุช ุงูุณุงุฏุณ! ๐๏ธโจ\n\nุงุชุนููุช ุญุงุฌุงุช ูููุฉ ุฌุฏุงู:\nโข ุงูุบูุฑุฉ ุงูููุฏุณุฉ ๐ฅ\nโข ููุฉ ุงูุตูุงุฉ ๐\nโข ุงูููุงุฏุฉ ุงูุญูููุฉ ๐\nโข ุงูุตุจุฑ ูู ุงูุดุบู ๐ช\n\n"ูููู ุงูุณูุฑ ูู ุงูุฎุงูุณ ูุงูุนุดุฑูู ูู ุฃููููุ ูู ุงุซููู ูุฎูุณูู ูููุงู" - ูุญููุง 6:15\n\n#ุชุนุงููุง_ูุจูู #ูุญููุง #ููู_ุงูุนุฒุงุจ_ูุงูุนุงุฒุจุงุช #ุงูููุงุฏุฉ_ุงูุฑูุญูุฉ`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'ููู ููุจูู - ุฑุญูุฉ ุฑูุญูุฉ',
                    text: shareText
                });
            } else {
                navigator.clipboard.writeText(shareText).then(() => {
                    alert('ุชู ูุณุฎ ุงููุต ูููุดุงุฑูุฉ! ๐');
                });
            }
        }

        function resetWall() {
            // Reset all wall sections
            for (let i = 1; i <= 10; i++) {
                const wall = document.getElementById(`wall${i}`);
                if (wall) {
                    wall.style.height = '0px';
                    wall.style.opacity = '0.3';
                    wall.classList.remove('wall-built', 'hammer-strike');
                    const brickPattern = wall.querySelector('.brick-pattern');
                    if (brickPattern) {
                        brickPattern.innerHTML = '';
                    }
                }
            }
            
            // Reset gate
            const gate = document.getElementById('gate');
            gate.style.height = '0px';
            gate.style.opacity = '0.3';
            gate.classList.remove('gate-built');
            
            // Reset special elements
            document.getElementById('gateLight').style.opacity = '0';
            document.getElementById('gateArch').style.opacity = '0';
            document.getElementById('orthodoxCross').style.opacity = '0';
            document.getElementById('wallCompletionText').style.opacity = '0';
        }



        // Initialize
        updateProgress();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'981936a556f2b103',t:'MTc1ODI4NjI3NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
